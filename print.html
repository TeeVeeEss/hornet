<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HORNET Docs</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="getting_started/getting_started.html"><strong aria-hidden="true">2.</strong> Getting started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting_started/nodes_101.html"><strong aria-hidden="true">2.1.</strong> Nodes 101</a></li><li class="chapter-item expanded "><a href="getting_started/security_101.html"><strong aria-hidden="true">2.2.</strong> Security 101</a></li><li class="chapter-item expanded "><a href="getting_started/installation_steps.html"><strong aria-hidden="true">2.3.</strong> Installation steps</a></li><li class="chapter-item expanded "><a href="getting_started/using_docker.html"><strong aria-hidden="true">2.4.</strong> Using Docker</a></li><li class="chapter-item expanded "><a href="getting_started/using_docker_compose.html"><strong aria-hidden="true">2.5.</strong> Using Docker compose</a></li><li class="chapter-item expanded "><a href="getting_started/bootstrap_from_genesis_snapshot.html"><strong aria-hidden="true">2.6.</strong> Bootstrapping from genesis snapshot</a></li><li class="chapter-item expanded "><a href="getting_started/private_tangle.html"><strong aria-hidden="true">2.7.</strong> Private Tangle</a></li></ol></li><li class="chapter-item expanded "><a href="post_installation/post_installation.html"><strong aria-hidden="true">3.</strong> Post-installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="post_installation/managing.html"><strong aria-hidden="true">3.1.</strong> Managing node</a></li><li class="chapter-item expanded "><a href="post_installation/config.html"><strong aria-hidden="true">3.2.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="post_installation/peering.html"><strong aria-hidden="true">3.3.</strong> Peering</a></li><li class="chapter-item expanded "><a href="post_installation/run_as_verifier.html"><strong aria-hidden="true">3.4.</strong> Run as verifier</a></li></ol></li><li class="chapter-item expanded "><a href="api-reference.html"><strong aria-hidden="true">4.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="troubleshooting.html"><strong aria-hidden="true">5.</strong> Troubleshooting</a></li><li class="chapter-item expanded "><a href="faq.html"><strong aria-hidden="true">6.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="Contribution.html"><strong aria-hidden="true">7.</strong> Contribution</a></li><li class="chapter-item expanded "><a href="code_of_conduct.html"><strong aria-hidden="true">8.</strong> Code of Conduct</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">HORNET Docs</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome-to-hornet"><a class="header" href="#welcome-to-hornet">Welcome to HORNET</a></h1>
<p><img src="./assets/HORNET_logo.svg" alt="" /></p>
<p>HORNET is a powerful, community driven IOTA node software written in Go. It is easy to install and runs on low-end
devices like the Raspberry Pi 4. Hornet is being built and maintained by a group of community developers alongside the
IOTA Foundation. Hornet is a full-fledged software providing full node capabilities including full support of the
Chrysalis network update.</p>
<p>More information about IOTA network protocol can be found on the <a href="https://www.iota.org/">IOTA website</a>. Technical
information for developers is part of the <a href="https://chrysalis.docs.iota.org/">Chrysalis documentation</a>.</p>
<blockquote>
<p>The IOTA network was upgraded to version IOTA 1.5 also known as <a href="https://chrysalis.iota.org">Chrysalis</a>. This documentation is focused on running a node as a part of the Chrysalis network (Hornet version 0.6.0+).
It is not valid for previous versions of Hornet, such as 0.5.x and below.</p>
</blockquote>
<p>By running your own node you have the following benefits:</p>
<ul>
<li>You have direct access to an IOTA network instead of having to connect to and trust someone else's node</li>
<li>You help the IOTA network to become more distributed and more resilient by validating messages and value transactions
in the IOTA network</li>
</ul>
<h2 id="roadmap"><a class="header" href="#roadmap">Roadmap</a></h2>
<p>Hornet will continue to be updated with upcoming changes to the IOTA protocol. See
the <a href="https://roadmap.iota.org/">roadmap</a> for more information.</p>
<h2 id="source-code"><a class="header" href="#source-code">Source code</a></h2>
<p>The source code of the project is available on <a href="https://github.com/gohornet/hornet">GitHub</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting started</a></h1>
<p>Running a node is the best way to use IOTA. By doing so, you have direct access to the Tangle instead of having to
connect to and trust someone else's node. Additionally, you help the IOTA network to become more distributed and
resilient.</p>
<p>The node software is the backbone of the IOTA network. For an overview of tasks a node is responsible for, please
see <a href="getting_started/./nodes_101.html">Node 101</a>.</p>
<p>To make sure that your device meets the minimum security requirements for running a node, please
see <a href="getting_started/./security_101.html">Security 101</a>.</p>
<blockquote>
<p>Please note: make sure you install Hornet version 0.6.0+ since it is the minimum version that targets IOTA 1.5 (Chrysalis) network.
Versions below 0.6.0 (such as 0.5.x) target the legacy IOTA network which is not the focus of this documentation.</p>
</blockquote>
<h2 id="recommended-requirements"><a class="header" href="#recommended-requirements">Recommended requirements</a></h2>
<p>To handle a potential high rate of messages per second, nodes need enough computational power to run reliably, and
should have following minimum specs:</p>
<ul>
<li>4 cores or 4 vCPU</li>
<li>8 GB RAM</li>
<li>SSD storage</li>
<li>A public IP address</li>
</ul>
<p>The amount of storage you need will depend on whether and how often you plan on pruning old data from your local
database.</p>
<p>Hornet exposes different functionality on different ports:</p>
<ul>
<li>15600 TCP - Gossip protocol port</li>
<li>14265 TCP - REST HTTP API port (optional)</li>
<li>8081 TCP - Dashboard (optional)</li>
</ul>
<p>The mentioned ports are important for flawless node operation. The REST HTTP API port is optional and is only needed if
you want to offer access to your node's API. All ports can be customized inside
the <a href="getting_started/../post_installation/config.html">config.json</a> file.</p>
<p>Please note: the default dashboard only listens on localhost:8081 per default. If you want to make it accessible from
the Internet, you will need to change the default configuration (though we recommend using a reverse proxy).</p>
<h2 id="operating-system"><a class="header" href="#operating-system">Operating system</a></h2>
<p>Hornet is written in Go and can be deployed on all major platforms using several installation methods.</p>
<p>Hornet ships as a single executable binary (<code>hornet</code> or <code>hornet.exe</code>) and some JSON configuration files; no further
dependencies are needed.</p>
<h3 id="linux-and-raspberry-pi"><a class="header" href="#linux-and-raspberry-pi">Linux (and Raspberry Pi)</a></h3>
<p>Available installation methods:</p>
<ul>
<li><a href="getting_started/./installation_steps.html#hornet-apt-repository">Hornet apt repository</a> (RECOMMENDED)</li>
<li><a href="getting_started/./using_docker.html">Docker image</a> (RECOMMENDED)</li>
<li><a href="getting_started/./installation_steps.html#pre-built-binaries">Prebuilt binary files</a></li>
<li><a href="getting_started/./installation_steps.html#build-from-source">Build from source</a></li>
</ul>
<h3 id="macos"><a class="header" href="#macos">MacOS</a></h3>
<p>Available installation methods:</p>
<ul>
<li><a href="getting_started/./using_docker.html">Docker image</a> (RECOMMENDED)</li>
<li><a href="getting_started/./installation_steps.html#pre-built-binaries">Prebuilt binary files</a></li>
</ul>
<h3 id="windows"><a class="header" href="#windows">Windows</a></h3>
<p>Available installation methods:</p>
<ul>
<li><a href="getting_started/./using_docker.html">Docker image</a> (RECOMMENDED)</li>
<li><a href="getting_started/./installation_steps.html#pre-built-binaries">Prebuilt binary files</a></li>
</ul>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<p>Hornet uses several JSON configuration files that can be adjusted based on your deployment and use cases:</p>
<ul>
<li><code>config.json</code>: includes all core configuration parameters</li>
<li><code>peering.json</code>: includes connection details to node neighbors (peers)</li>
</ul>
<p>See more details regarding the configuration in the <a href="getting_started/../post_installation/post_installation.html">post installation</a>
chapter.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nodes-101"><a class="header" href="#nodes-101">Nodes 101</a></h1>
<p>The IOTA network is a distributed type of network called Tangle, and the network is distributed among plenty of servers
called nodes. Nodes are the backbone of an IOTA network. This section covers what nodes do in an IOTA network.</p>
<p>Nodes are responsible for the following:</p>
<ul>
<li>Providing an API to interact with the Tangle/IOTA network.</li>
<li>Validating <a href="getting_started/(https://chrysalis.docs.iota.org/guides/dev_guide.html#messages-payloads-and-transactions)">messages</a> and ledger mutations for consistency.</li>
<li>Provide data for other nodes to synchronize to the latest state of the network.</li>
</ul>
<h2 id="attaching-new-messages-to-the-tangle"><a class="header" href="#attaching-new-messages-to-the-tangle">Attaching new messages to the Tangle</a></h2>
<p>A <code>message</code> is a data structure that is actually being broadcasted in the IOTA network and represents a vertex in the
Tangle graph. When nodes receive a new message, they attach it to the Tangle by adding it to their local database.</p>
<p>As a result, at any point in time, all nodes may have different messages in their local databases. These messages make
up a node's view of the Tangle.</p>
<p>To distribute the messages across the rest of the network, nodes synchronize their local databases with their neighbors.</p>
<h2 id="synchronizing-with-the-rest-of-the-network"><a class="header" href="#synchronizing-with-the-rest-of-the-network">Synchronizing with the rest of the network</a></h2>
<p>Like any distributed system, nodes in an IOTA network synchronize their databases with others called neighbors to form a
single source of truth.</p>
<p>When one node, no matter where it is in the world, receives a message, it will try to gossip it to all its neighbors.
This way, all nodes eventually see all messages and store them in their local databases.</p>
<p>To synchronize, nodes in IOTA networks use milestones.</p>
<p>If the node has the history of messages that a milestone references, that milestone is solid. Therefore, nodes know if
they are synchronized if the index of their latest solid milestone is the same as the index of the latest milestone that
it has received.</p>
<p>When a node is synchronized, it then has enough information to decide which transactions it considers confirmed.</p>
<h2 id="deciding-which-messages-are-confirmed"><a class="header" href="#deciding-which-messages-are-confirmed">Deciding which messages are confirmed</a></h2>
<p>All messages remain in a pending state until the node is sure of its validity. For a definition of a message,
see <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#messages-payloads-and-transactions">Messages, payloads, and transactions</a>
.</p>
<p>However, even when a message is valid, nodes may not be able to make a decision like in the case of a double spend.</p>
<p>When nodes detect double spends they must decide which message to consider confirmed and which one to ignore. Nodes do
this by using consensus rules that are built into their node software using a network protocol.</p>
<h2 id="keeping-a-record-of-the-balances-on-addresses-via-utxo"><a class="header" href="#keeping-a-record-of-the-balances-on-addresses-via-utxo">Keeping a record of the balances on addresses via <code>UTXO</code></a></h2>
<p>All nodes keep a record of
the <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#unspent-transaction-output-utxo">Unspent Transaction Outputs (UTXO)</a>
so they can do the following:</p>
<ul>
<li>Check that a transaction is not transferring more IOTA tokens than are available on the address</li>
<li>Respond to clients' requests for their balance</li>
<li>Only when a transaction is confirmed, can nodes update their record of balances</li>
</ul>
<h2 id="exposing-apis-for-clients"><a class="header" href="#exposing-apis-for-clients">Exposing APIs for clients</a></h2>
<p>Nodes come with two set of low-level APIs:</p>
<ul>
<li>HTTP(rest) API</li>
<li>Event API</li>
</ul>
<blockquote>
<p>Developers are not needed to communicate with nodes using mentioned low-level API. Developers can successfully leverage <a href="https://chrysalis.docs.iota.org/libraries/overview.html">iota client libraries</a> that provide a high-level abstraction to all features IOTA nodes provide, either on HTTP API level or Event API level</p>
</blockquote>
<h3 id="http-rest-api"><a class="header" href="#http-rest-api">HTTP Rest API</a></h3>
<p>The HTTP API allows clients to interact with the Tangle and ask nodes to do the following:</p>
<ul>
<li>Get tip messages</li>
<li>Attach new messages to the Tangle</li>
<li>Do proof of work</li>
<li>Get messages from the Tangle</li>
</ul>
<h3 id="event-api"><a class="header" href="#event-api">Event API</a></h3>
<p>The Events API allows clients to poll nodes for new messages and other events that happen on nodes. This type of API is
useful for building applications such as custodial wallets that need to monitor the Tangle for updates to the balances
of certain addresses.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="security-101"><a class="header" href="#security-101">Security 101</a></h1>
<p>This topic provides a checklist of steps for running a reliable and secure node.</p>
<blockquote>
<p>Please note that servers that are reachable from the Internet are a constant target from security challengers. Please, make sure you follow minimum security essentials summarized in this article.</p>
</blockquote>
<h2 id="securing-your-device"><a class="header" href="#securing-your-device">Securing your device</a></h2>
<p>The security of the device that's running your node is important to stop attackers from gaining access to it.</p>
<p>You should consider doing the following before running a node on your device:</p>
<ul>
<li>Securing SSH logins</li>
<li>Blocking unnecessary ports</li>
</ul>
<h3 id="securing-ssh-logins"><a class="header" href="#securing-ssh-logins">Securing SSH logins</a></h3>
<p>If you log into your device through SSH, you should use measures to protect it from unauthorized access. Many guides have been written about this subject. For more information, see <a href="https://blog.devolutions.net/2017/4/10-steps-to-secure-open-ssh">10 Steps to Secure Open SSH</a>. In addition to that, one can also leverage tools such as Fail2ban to harden security even more.</p>
<h3 id="blocking-unnecessary-ports"><a class="header" href="#blocking-unnecessary-ports">Blocking unnecessary ports</a></h3>
<p>Attackers can abuse any open ports on your device.</p>
<p>To secure your device against attacks on unused open ports, you should close all ports except those that are in use.</p>
<p>To do so, you can use a firewall. All operating systems include firewall options. By having a firewall in place you can completely block unused and unnecessary ports.</p>
<p>On a cloud platforms such as AWS, Azure or GCP, one can block ports on VPS networking settings.</p>
<h2 id="deciding-whether-to-enable-remote-proof-of-work"><a class="header" href="#deciding-whether-to-enable-remote-proof-of-work">Deciding whether to enable remote proof of work</a></h2>
<p>When you're configuring your node, you have the option to allow it to do proof of work. When this feature is enabled, clients can ask your node to do remote proof of work.</p>
<p>Proof of work takes time and uses your node's computational power. So, you should consider it according to your infrastructure.</p>
<h2 id="load-balancing"><a class="header" href="#load-balancing">Load balancing</a></h2>
<p>If you run more than one node, it's a best practice to make sure that API requests are distributed among all of them.</p>
<p>To evenly distribute the API requests among all your nodes, you can run a reverse proxy server that will act as a load balancer (HAProxy, Traefik, Nginx, Apache, etc.). This way, you can have one domain name for your reverse proxy server that all nodes will send their API calls to. But, on the backend, the nodes with the most spare computational power will process the request and return the response.</p>
<p>Broadcasted messages are atomic and nodes provides restful API to communicate, so sticky sessions or similar tech is not needed.</p>
<h2 id="reverse-proxy"><a class="header" href="#reverse-proxy">Reverse proxy</a></h2>
<p>Using a reverse proxy in front of a node is considered a best practice even in case of deployment of a single node only. Reverse proxy adds an additional security layer that can handle tasks such as IP address filtering, abuse rate limiting, SSL encrypting, additional authorization layer, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hornet-apt-repository-linux-distro-specific"><a class="header" href="#hornet-apt-repository-linux-distro-specific">Hornet <code>apt</code> repository (Linux-distro specific)</a></h1>
<p>Hornet <code>apt</code> repository is maintained by the Hornet developers. It installs Hornet as a <code>systemd</code> service under a user called <code>hornet</code>.</p>
<p><em>Ubuntu/Debian</em></p>
<p><strong>Import the public key that is used to sign the software release:</strong></p>
<pre><code class="language-bash">wget -qO - https://ppa.hornet.zone/pubkey.txt | sudo apt-key add -
</code></pre>
<p><strong>Add the Hornet APT repository to your APT sources:</strong></p>
<pre><code class="language-bash">sudo sh -c 'echo &quot;deb http://ppa.hornet.zone stable main&quot; &gt;&gt; /etc/apt/sources.list.d/hornet.list'
</code></pre>
<p><strong>Update <code>apt</code> package lists and install Hornet:</strong></p>
<pre><code class="language-bash">sudo apt update
sudo apt install hornet
</code></pre>
<p><strong>Enable the <code>systemd</code> service:</strong></p>
<pre><code class="language-bash">sudo systemctl enable hornet.service
</code></pre>
<p>The Hornet configuration files are located under the <code>/var/lib/hornet</code> directory. See more details on how to configure Hornet under the <a href="getting_started/../post_installation/post_installation.html">post installation</a> chapter.</p>
<p>Environment file to configure multiple default parameters are located under the <code>/etc/default/hornet</code> directory.</p>
<p><strong>Start the node;</strong> use <code>systemd</code> service to start running Hornet on the Mainnet:</p>
<pre><code class="language-bash">sudo service hornet start
</code></pre>
<h3 id="managing-the-node"><a class="header" href="#managing-the-node">Managing the node</a></h3>
<p><strong>Displaying log output:</strong></p>
<pre><code class="language-bash">journalctl -fu hornet
</code></pre>
<ul>
<li><code>-f</code>: instructs <code>journalctl</code> to continue displaying the log to stdout until CTRL+C is pressed</li>
<li><code>-u hornet</code>: filter log output by user name</li>
</ul>
<p><strong>Restarting Hornet:</strong></p>
<pre><code class="language-bash">sudo systemctl restart hornet
</code></pre>
<p><strong>Stopping Hornet:</strong></p>
<pre><code class="language-bash">sudo systemctl stop hornet
</code></pre>
<blockquote>
<p>Please note: Hornet uses an in-memory cache, so it is necessary to provide a grace period while shutting it down (at least 200 seconds) in order to save all data to the underlying persistent storage.</p>
</blockquote>
<p>See more details on how to configure Hornet under the <a href="getting_started/../post_installation/post_installation.html">post installation</a> chapter.</p>
<hr />
<h1 id="pre-built-binaries"><a class="header" href="#pre-built-binaries">Pre-built binaries</a></h1>
<p>There are several pre-built binaries of Hornet for major platforms available including some default configuration JSON files.</p>
<p>This method is considered a bit advanced for production use since you have to usually prepare a system environment in order to run the given executable as a service (in a daemon mode) via <code>systemd</code> or <code>supervisord</code>.</p>
<p><strong>Download the latest release compiled for your system from <a href="https://github.com/gohornet/hornet/releases">GitHub release assets</a>, for ex:</strong></p>
<pre><code class="language-bash">curl -LO https://github.com/gohornet/hornet/releases/download/v0.6.0/HORNET-0.6.0_Linux_x86_64.tar.gz
</code></pre>
<p>Some navigation hints:</p>
<ul>
<li><code>HORNET-X.Y.Z_Linux_x86_64.tar.gz</code>: standard 64-bit-linux-based executable, such as Ubuntu, Debian, etc.</li>
<li><code>HORNET-X.Y.Z_Linux_arm64.tar.gz</code>: executable for Raspberry Pi 4</li>
<li><code>HORNET-X.Y.Z_Windows_x86_64.zip</code>: executable for Windows 10-64-bit-based systems</li>
<li><code>HORNET-X.Y.Z_macOS_x86_64.tar.gz</code>: executable for macOS</li>
</ul>
<p><strong>Extract the files in a folder of your choice (for ex. <code>/opt</code> on Linux), for ex:</strong></p>
<pre><code class="language-bash">tar -xf HORNET-0.6.0_Linux_x86_64.tar.gz
</code></pre>
<ul>
<li>Once extracted, you get a main executable file</li>
<li>There are also sample <a href="getting_started/../post_installation/post_installation.html">configuration</a> JSON files available in the archive (tar or zip)</li>
</ul>
<p><strong>Run Hornet using <code>--help</code> to get all executable-related arguments:</strong></p>
<pre><code class="language-bash">./hornet --help
</code></pre>
<p><em>Also double check that you have version 0.6.0+ deployed:</em></p>
<pre><code class="language-bash">./hornet --version
</code></pre>
<p><strong>Run Hornet using default settings:</strong></p>
<pre><code class="language-bash">./hornet
</code></pre>
<p>Using this method, you have to make sure the executable runs in a daemon mode using for example <code>systemd</code>.</p>
<blockquote>
<p>Please note: Hornet uses an in-memory cache, so it is necessary to provide a grace period while shutting it down (at least 200 seconds) in order to save all data to the underlying persistent storage.</p>
</blockquote>
<p>See more details on how to configure Hornet under the <a href="getting_started/../post_installation/post_installation.html">post installation</a> chapter.</p>
<h3 id="example-of-systemd-unit-file"><a class="header" href="#example-of-systemd-unit-file">Example of systemd unit file</a></h3>
<p>Assuming the Hornet executable is extracted to <code>/opt/hornet</code> together with configuration files, please find the following example of a <code>systemd</code> unit file:</p>
<pre><code class="language-plaintext">[Unit]
Description=Hornet
Wants=network-online.target
After=network-online.target

[Service]
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=hornet
PrivateDevices=yes
PrivateTmp=yes
ProtectSystem=full
ProtectHome=yes

User=hornet
WorkingDirectory=/opt/hornet
TimeoutSec=1200
Restart=always
ExecStart=/opt/hornet/hornet

[Install]
WantedBy=multi-user.target
</code></pre>
<hr />
<h1 id="build-from-source"><a class="header" href="#build-from-source">Build from source</a></h1>
<p>This method is considered a bit advanced for production use since you usually have to prepare a system environment in order to run the given executable as a service (in a daemon mode) via <code>systemd</code> or <code>supervisord</code>.</p>
<p><strong>Install Go:</strong></p>
<p>Install <a href="https://golang.org/doc/install">Go</a></p>
<p><strong>Install dependencies: Git and build-essentials:</strong></p>
<pre><code class="language-bash">sudo apt update
sudo apt install git build-essential
</code></pre>
<p><strong>Check the golang/git version:</strong></p>
<pre><code class="language-bash">go version
git --version
</code></pre>
<p>Make sure you have the latest version from https://golang.org/dl/</p>
<p><strong>Clone the Hornet source code from GitHub:</strong></p>
<pre><code class="language-bash">git clone https://github.com/gohornet/hornet.git &amp;&amp; cd hornet
</code></pre>
<p><strong>Build the Hornet:</strong></p>
<pre><code class="language-bash">./build_hornet_rocksdb_builtin.sh
</code></pre>
<ul>
<li>it builds Hornet based on the latest commit from <code>main</code> branch</li>
<li>it takes a couple of minutes</li>
</ul>
<p>Once it is compiled, then the executable file named <code>hornet</code> should be available in the current directory:</p>
<pre><code class="language-bash">./hornet --version
</code></pre>
<p>Example of version:</p>
<pre><code class="language-plaintext">HORNET 0.6.0-31ad46bb
</code></pre>
<ul>
<li>there is also short commit <code>sha</code> added to be sure what commit the given version is compiled against</li>
</ul>
<p><strong>Run Hornet using <code>--help</code> to get all executable-related arguments:</strong></p>
<pre><code class="language-bash">./hornet --help
</code></pre>
<p><strong>Run Hornet using a default settings:</strong></p>
<pre><code class="language-bash">./hornet
</code></pre>
<p>Using this method, you have to make sure the executable runs in a daemon mode using for example <code>systemd</code>.</p>
<blockquote>
<p>Please note: Hornet uses an in-memory cache, so it is necessary to provide a grace period while shutting it down (at least 200 seconds) in order to save all data to the underlying persistent storage.</p>
</blockquote>
<p>See more details on how to configure Hornet under the <a href="getting_started/../post_installation/post_installation.html">post installation</a> chapter.</p>
<h3 id="example-of-systemd-unit-file-1"><a class="header" href="#example-of-systemd-unit-file-1">Example of systemd unit file</a></h3>
<p>Assuming the Hornet executable is extracted to <code>/opt/hornet</code> together with configuration files, please find the following example of a <code>systemd</code> unit file:</p>
<pre><code class="language-plaintext">[Unit]
Description=Hornet
Wants=network-online.target
After=network-online.target

[Service]
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=hornet
PrivateDevices=yes
PrivateTmp=yes
ProtectSystem=full
ProtectHome=yes

User=hornet
WorkingDirectory=/opt/hornet
TimeoutSec=1200
Restart=always
ExecStart=/opt/hornet/hornet

[Install]
WantedBy=multi-user.target
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-docker"><a class="header" href="#using-docker">Using Docker</a></h1>
<p>Hornet Docker images (amd64/x86_64 architecture) are available at <a href="https://hub.docker.com/r/gohornet/hornet">gohornet/hornet</a> Docker hub.</p>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<ol>
<li>A recent release of Docker enterprise or community edition. (Follow this <a href="https://docs.docker.com/engine/install/">link</a> for install instructions).</li>
<li>git and curl</li>
<li>At least 1GB available RAM</li>
</ol>
<h2 id="clone-repository"><a class="header" href="#clone-repository">Clone Repository</a></h2>
<p>Clone the repository</p>
<pre><code class="language-sh">git clone https://github.com/gohornet/hornet &amp;&amp; cd hornet
</code></pre>
<p>The rest of the document assumes you are executing commands from the root directory of the repository.</p>
<h2 id="prepare"><a class="header" href="#prepare">Prepare</a></h2>
<ol>
<li>
<p>Edit the <code>config.json</code> for alternative ports if needed.</p>
</li>
<li>
<p>Edit <code>peering.json</code> to your neighbors addresses.</p>
</li>
<li>
<p>The Docker image runs under user with user id 65532 and group id 65532. To make sure there are no permission issues, create the directory for the database, e.g.:</p>
<pre><code class="language-sh">sudo mkdir mainnetdb &amp;&amp; sudo chown 65532:65532 mainnetdb
</code></pre>
</li>
<li>
<p>The Docker image runs under user with user id 65532 and group id 65532. To make sure there are no permission issues, create the directory for the snapshots, e.g.:</p>
<pre><code class="language-sh">sudo mkdir -p snapshots/mainnet &amp;&amp; sudo chown 65532:65532 snapshots -R
</code></pre>
</li>
</ol>
<h2 id="run"><a class="header" href="#run">Run</a></h2>
<p>Pull the latest image from <code>gohornet/hornet</code> public Docker hub registry:</p>
<pre><code class="language-bash">docker pull gohornet/hornet:latest
</code></pre>
<p>Best is to run on host network for better performance (otherwise you are going to have to publish ports, that is done via iptables NAT and is slower)</p>
<pre><code class="language-sh">docker run \
  -v $(pwd)/config.json:/app/config.json:ro \
  -v $(pwd)/peering.json:/app/peering.json \
  -v $(pwd)/profiles.json:/app/profiles.json \
  -v $(pwd)/mainnetdb:/app/mainnetdb \
  -v $(pwd)/snapshots/mainnet:/app/snapshots/mainnet \
  --restart always \
  --name hornet\
  --net=host \
  -d \
  hornet:latest
</code></pre>
<p>Use <code>docker stop -t 200 hornet</code> to gracefully end the process.</p>
<ul>
<li><code>$(pwd)</code> <br />
Is for the current directory. All mentioned directories are mapped to container and so the Hornet in container persists the data directly to those directories.</li>
<li><code>-v $(pwd)/config.json:/app/config.json:ro</code> <br />
Maps the local <code>config.json</code> file into the container in <code>readonly</code> mode.</li>
<li><code>-v $(pwd)/peering.json:/app/peering.json</code> <br />
Maps the local <code>peering.json</code> file into the container.</li>
<li><code>-v $(pwd)/snapshots/mainnet:/app/snapshots/mainnet</code> <br />
Maps the local <code>snapshots</code> directory into the container.</li>
<li><code>-v $(pwd)/mainnetdb:/app/mainnetdb</code> <br />
Maps the local <code>mainnetdb</code> directory into the container.</li>
<li><code>--restart always</code> <br />
Instructs Docker the given container is restarted after Docker reboot</li>
<li><code>--name hornet</code> <br />
Name of the running container instance. You can refer to the given container by this name.</li>
<li><code>--net=host</code> <br />
Instructs Docker to use directly network on host (so the network is not isolated). The best is to run on host network for better performance. It also means it is not necessary to specify any ports. Ports that are opened by container are opened directly on the host.</li>
<li><code>-d</code> <br />
Instructs Docker to run the container instance in a detached mode (daemon).</li>
</ul>
<h2 id="create-username-and-password-for-the-hornet-dashboard"><a class="header" href="#create-username-and-password-for-the-hornet-dashboard">Create username and password for the Hornet dashboard</a></h2>
<p>If you use the Hornet dashboard you need to create a secure password. Start your Hornet container and run the following command when the container is running:</p>
<pre><code class="language-sh">docker exec -it hornet /app/hornet tool pwdhash

Re-enter your password:
Success!
Your hash: [YOUR_HASH_HERE]
Your salt: [YOUR_SALT_HERE]
</code></pre>
<p>Edit <code>config.json</code> and customize the &quot;dashboard&quot; section to your needs.</p>
<pre><code class="language-sh">  &quot;dashboard&quot;: {
    &quot;bindAddress&quot;: &quot;0.0.0.0:8081&quot;,
    &quot;auth&quot;: {
      &quot;sessionTimeout&quot;: &quot;72h&quot;,
      &quot;username&quot;: &quot;admin&quot;,
      &quot;passwordHash&quot;: &quot;[YOUR_HASH_HERE]&quot;,
      &quot;passwordSalt&quot;: &quot;[YOUR_SALT_HERE]&quot;
    }
  },
</code></pre>
<h2 id="build-your-own-hornet-image"><a class="header" href="#build-your-own-hornet-image">Build your own hornet image</a></h2>
<p>You can build your own Docker image by running the following command:</p>
<pre><code class="language-sh">docker build -f docker/Dockerfile -t hornet:latest .
</code></pre>
<p>Or pull it from Docker hub (only available for amd64/x86_64):</p>
<pre><code class="language-sh">docker pull gohornet/hornet:latest &amp;&amp; docker tag gohornet/hornet:latest hornet:latest
</code></pre>
<h2 id="managing-node"><a class="header" href="#managing-node">Managing node</a></h2>
<blockquote>
<p>Please note: Hornet uses an in-memory cache and so it is necessary to provide a grace period while shutting it down (at least 200 seconds) in order to save all data to the underlying persistent storage.</p>
</blockquote>
<h3 id="starting-an-existing-hornet"><a class="header" href="#starting-an-existing-hornet">Starting an existing Hornet</a></h3>
<pre><code class="language-bash">docker start hornet
</code></pre>
<h3 id="restarting-hornet"><a class="header" href="#restarting-hornet">Restarting Hornet</a></h3>
<pre><code class="language-bash">docker restart -t 200 hornet
</code></pre>
<ul>
<li><code>-t 200</code>: instructs Docker to wait for a grace period before shutting down</li>
</ul>
<h3 id="stopping-hornet"><a class="header" href="#stopping-hornet">Stopping Hornet</a></h3>
<pre><code class="language-bash">docker stop -t 200 hornet
</code></pre>
<ul>
<li><code>-t 200</code>: instructs Docker to wait for a grace period before shutting down</li>
</ul>
<h3 id="displaying-log-output"><a class="header" href="#displaying-log-output">Displaying log output</a></h3>
<pre><code class="language-bash">docker logs -f hornet
</code></pre>
<ul>
<li><code>-f</code> <br />
Instructs Docker to continue displaying the log to <code>stdout</code> until CTRL+C is pressed</li>
</ul>
<h2 id="removing-container"><a class="header" href="#removing-container">Removing container</a></h2>
<pre><code class="language-bash">docker container rm hornet
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-docker-compose"><a class="header" href="#using-docker-compose">Using Docker Compose</a></h1>
<p>Make sure that you have read <a href="getting_started/using_docker.html">Using Docker</a> before continue reading. This chapter is for more advanced users. The following link provides more information about <a href="https://docs.docker.com/compose/">Docker Compose</a>.</p>
<h2 id="using-your-own-docker-compose-file-for-running-hornet"><a class="header" href="#using-your-own-docker-compose-file-for-running-hornet">Using your own Docker Compose file for running Hornet</a></h2>
<p>Docker Compose is a tool on top of the Docker engine that enables you to define Docker parameters in a structured way via <code>docker-compose.yaml</code> file. You can create and start the container with a single <code>docker-compose</code> command based on your configuration.</p>
<p>Create <code>docker-compose.yml</code> file among the other files created above:</p>
<pre><code class="language-plaintext">.
├── config.json
├── peering.json
├── profiles.json
├── docker-compose.yml      &lt;NEWLY ADDED FILE&gt;
├── mainnetdb
└── snapshots
    └── mainnet
</code></pre>
<pre><code class="language-plaintext">version: '3'
services:
  hornet:
    container_name: hornet
    image: gohornet/hornet:latest
    network_mode: host
    restart: always
    cap_drop:
      - ALL
    volumes:
      - ./config.json:/app/config.json:ro
      - ./peering.json:/app/peering.json
      - ./profiles.json:/app/profiles.json
      - ./snapshots/mainnet:/app/snapshots/mainnet
      - ./mainnetdb:/app/mainnetdb
</code></pre>
<p>Run the following command in the current directory to create and start an new Hornet container in detached mode (as daemon).</p>
<p><code>docker-compose up -d</code></p>
<p>See more details on how to configure Hornet under the <a href="getting_started/../post_installation/post_installation.html">post installation</a> chapter.</p>
<h2 id="build-your-own-image-using-docker-compose"><a class="header" href="#build-your-own-image-using-docker-compose">Build your own image using Docker Compose</a></h2>
<p>Note: Follow this step only if you want to run Hornet via Docker Compose.</p>
<p>If you are using an architecture other than amd64/x86_64 edit the <code>docker-compose.yml</code> file and set the correct architecture where noted.</p>
<p>The following command will build the image and run Hornet:</p>
<pre><code class="language-sh">docker-compose up
</code></pre>
<p>CTRL-c to stop.</p>
<p>Add <code>-d</code> to run detached, and to stop:</p>
<pre><code class="language-sh">docker-compose down -t 200
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="bootstrapping-the-chrysalis-phase-2-hornet-node-from-the-genesis-snapshot"><a class="header" href="#bootstrapping-the-chrysalis-phase-2-hornet-node-from-the-genesis-snapshot">Bootstrapping the Chrysalis Phase 2 Hornet node from the genesis snapshot</a></h2>
<ol>
<li>Rename the <code>genesis_snapshot.bin</code> to <code>full_snapshot.bin</code>.</li>
<li>Make sure your C2 (Chrysalis Phase 2) Hornet node has no database and no prior snapshot files.</li>
<li>Place the <code>full_snapshot.bin</code> in the directory as defined in the <code>snapshots.fullPath</code> config option (this option
contains the full path including the file name).</li>
<li>Adjust <code>protocol.networkID</code> to the same value as used in
the <code>-genesis-snapshot-file-network-id=&quot;&lt;network-id-for-chrysalis-phase-2&gt;&quot;</code> flag. (This should not really be
necessary as the C2 Hornet version will ship with the appropriate default values).</li>
<li>Control that the corresponding <code>protocol.publicKeyRanges</code> are correct.</li>
<li>Start your C2 Hornet node and add peers via the dashboard.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><p>This is a small tutorial on how to run your own private <a href="https://chrysalis.iota.org/">Chrysalis</a> tangle.</p>
<p>We will need to set up <a href="https://legacy.docs.iota.org/docs/getting-started/1.1/the-tangle/the-coordinator">a coordinator</a> and at least one additional <a href="getting_started/./getting_started.html">node</a> and distribute some tokens to an address that we can manage using a wallet. We will do this by running some scripts from the <em>private_tangle</em> folder that you will find in the HORNET respository.</p>
<h3 id="preparations"><a class="header" href="#preparations">Preparations</a></h3>
<ul>
<li><a href="getting_started/./installation_steps.html">Build HORNET</a></li>
<li>Get a wallet built for Chrysalis (for example <a href="https://github.com/iotaledger/cli-wallet">the cli-wallet</a>)</li>
</ul>
<h3 id="configuration-1"><a class="header" href="#configuration-1">Configuration</a></h3>
<p>The scripts in the <em>private_tangle</em> folder of the HORNET repository, which we will use to run the coordinator and the nodes, are preconfigured. By default they will distribute the tokens to the following address:</p>
<pre><code>atoi1qpszqzadsym6wpppd6z037dvlejmjuke7s24hm95s9fg9vpua7vluehe53e
</code></pre>
<p>If you want to use an existing address, search for your address in <a href="https://explorer.iota.org/mainnet">the explorer</a> and look for the corresponding ED25519 address. Find the <em>create_snapshot_private_tangle</em> script in the <em>private_tangle</em> directory and change the following line to use your ED25519 address:</p>
<pre><code class="language-bash">...
go run &quot;..\main.go&quot; tool snapgen private_tangle1 [ADDRESS] 1000000000 &quot;snapshots\private_tangle1\full_snapshot.bin&quot;
...
</code></pre>
<h3 id="start-the-coordinator"><a class="header" href="#start-the-coordinator">Start the coordinator</a></h3>
<p>In the HORNET repository, change to the <em>private_tangle</em> directory and run the <em>run_coo_bootstrap</em> script. This will create all files needed to run the network and distribute the tokens to the address we configured. It will also start the coordinator.</p>
<p>In subsequent starts we can use the <em>run_coo</em> script, to skip the bootstrap step.</p>
<h3 id="start-additional-nodes"><a class="header" href="#start-additional-nodes">Start additional nodes</a></h3>
<p>To start additional nodes we simply use the additional <em>run</em> scripts provided in the <em>private_tangle</em> folder. We can run them on the same device, as they are preconfigured to listen on different ports.</p>
<p>Congratulations, you are now running a private network! To monitor your coordinator, you can find the dashboard at <a href="http://localhost:8081">http://localhost:8081</a>. Login to the Dashboard with <code>admin</code> as username and password.</p>
<h3 id="use-a-wallet-to-manage-the-tokens"><a class="header" href="#use-a-wallet-to-manage-the-tokens">Use a wallet to manage the tokens</a></h3>
<p>To easily access the tokens on the network, we need to take one more step. If you used the default configuration, use the following mnemonic to set up a wallet:</p>
<pre><code>giant dynamic museum toddler six deny defense ostrich bomb access mercy blood explain muscle shoot shallow glad autumn author calm heavy hawk abuse rally
</code></pre>
<p>Now connect your wallet to one of the nodes that are running and you should be able to find the tokens distributed to your wallet.</p>
<p>Using <a href="https://github.com/iotaledger/cli-wallet">the cli-wallet</a>, the commands would be:</p>
<pre><code class="language-bash">&gt; wallet mnemonic &quot;giant dynamic museum toddler six deny defense ostrich bomb access mercy blood explain muscle shoot shallow glad autumn author calm heavy hawk abuse rally&quot;
&gt; wallet new --node &quot;http://localhost:14266&quot; --alias EXAMPLE
</code></pre>
<p>You are now all set to start using your own private tangle!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="post-installation"><a class="header" href="#post-installation">Post-installation</a></h1>
<p>Once Hornet is deployed, all parameters are set via configuration files.</p>
<h2 id="configuration-2"><a class="header" href="#configuration-2">Configuration</a></h2>
<p>The most important ones are:</p>
<ul>
<li><code>config.json</code>: includes all configuration flags and their values</li>
<li><code>peering.json</code>: includes all connection details to your static peers (neighbors)</li>
</ul>
<blockquote>
<p>Hornet version 0.5.x targets legacy IOTA 1.0 network. Hornet version 1.x.x targets IOTA 1.5 network aka Chrysalis which is the focus of this documentation.</p>
</blockquote>
<p>Depending on the installation path you selected, default configuration files may be also part of the installation
process and so you may see the following configuration files at your deployment directory:</p>
<pre><code class="language-bash">config.json
config_chrysalis_testnet.json
peering.json
profiles.json
</code></pre>
<h3 id="default-configuration"><a class="header" href="#default-configuration">Default configuration</a></h3>
<p>By default, Hornet searches for configuration files in the working directory and expects default names, such
as <code>config.json</code> and <code>peering.json</code>.</p>
<p>This behavior can be changed by running Hornet with some altering arguments.</p>
<p>Please see the <a href="post_installation/./config.html">config.json</a> and <a href="post_installation/./peering.html">peering.json</a> chapters for more information regarding
the respective configuration files.</p>
<p>Once Hornet is executed, it outputs all loaded configuration parameters to <code>stdout</code> to show what configuration was
actually loaded (omitting values for things like passwords etc.).</p>
<p>All other altering command line parameters can be obtained by running <code>hornet --help</code> or with a more granular
output <code>hornet --help --full</code>.</p>
<h2 id="dashboard"><a class="header" href="#dashboard">Dashboard</a></h2>
<p>Per default an admin dashboard/web interface plugin is available on port 8081. It provides some useful information
regarding the node's health, peering/neighbors, overall network health and consumed system resources.</p>
<p>The dashboard plugin only listens on localhost:8081 per default. If you want to make it accessible from the Internet,
you will need to change the default configuration. It can be changed via the following <code>config.json</code> file section:</p>
<pre><code class="language-json">&quot;dashboard&quot;: {
  &quot;bindAddress&quot;: &quot;localhost:8081&quot;,
  &quot;auth&quot;: {
    &quot;sessionTimeout&quot;: &quot;72h&quot;,
    &quot;username&quot;: &quot;admin&quot;,
    &quot;passwordHash&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,
    &quot;passwordSalt&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;
  }
}
</code></pre>
<p>Change <code>dashboard.bindAddress</code> to either <code>0.0.0.0:8081</code> to listen on all available interfaces, or the
specific interface address accordingly.</p>
<p>Even if accessible from the Internet, any visitor still needs a valid combination of the username and password to access
the management section of the dashboard.</p>
<p>The password hash and salt can be generated using the integrated <code>pwdhash</code> CLI tool:</p>
<pre><code class="language-bash">./hornet tools pwdhash
</code></pre>
<p>Output example:</p>
<pre><code class="language-plaintext">Enter a password:
Re-enter your password:
Success!
Your hash: 24c832e35dc542901b90888321dbfc4b1d9617332cbc124709204e6edf7e49f9
Your salt: 6c71f4753f6fb52d7a4bb5471281400c8fef760533f0589026a0e646bc03acd4
</code></pre>
<blockquote>
<p><code>pwdhash</code> tool outputs the <code>passwordHash</code> and <code>passwordSalt</code> based on your input password</p>
</blockquote>
<p>Copy both values to their corresponding configuration options: <code>dashboard.auth.passwordHash</code> and
<code>dashboard.auth.passwordSalt</code> respectively.</p>
<p>In order for the new pasword to take effect, you must restart Hornet.</p>
<h2 id="configuring-http-rest-api"><a class="header" href="#configuring-http-rest-api">Configuring HTTP REST API</a></h2>
<p>One of the <a href="post_installation/../getting_started/nodes_101.html">tasks that the node is responsible for</a> is exposing a HTTP REST API for
clients that would like to interacts with the IOTA network, such as crypto wallets, exchanges, IoT devices, etc.</p>
<p>By default, the HTTP REST API is publicly exposed on port 14265 and ready to accept incoming connections from the
Internet.</p>
<p>Since offering the HTTP REST API to the public can consume resources of your node, there are options to restrict which
routes can be called and other request limitations.</p>
<p>HTTP REST API related options exists under the section <code>restAPI</code> within the <code>config.json</code> file:</p>
<pre><code class="language-json">  &quot;restAPI&quot;: {
    &quot;jwtAuth&quot;: {
      &quot;enabled&quot;: false,
      &quot;salt&quot;: &quot;HORNET&quot;
    },
    &quot;excludeHealthCheckFromAuth&quot;: false,
    &quot;permittedRoutes&quot;: [
      &quot;/health&quot;,
      &quot;/mqtt&quot;,
      &quot;/api/v1/info&quot;,
      &quot;/api/v1/tips&quot;,
      &quot;/api/v1/messages/:messageID&quot;,
      &quot;/api/v1/messages/:messageID/metadata&quot;,
      &quot;/api/v1/messages/:messageID/raw&quot;,
      &quot;/api/v1/messages/:messageID/children&quot;,
      &quot;/api/v1/messages&quot;,
      &quot;/api/v1/transactions/:transactionID/included-message&quot;,
      &quot;/api/v1/milestones/:milestoneIndex&quot;,
      &quot;/api/v1/milestones/:milestoneIndex/utxo-changes&quot;,
      &quot;/api/v1/outputs/:outputID&quot;,
      &quot;/api/v1/addresses/:address&quot;,
      &quot;/api/v1/addresses/:address/outputs&quot;,
      &quot;/api/v1/addresses/ed25519/:address&quot;,
      &quot;/api/v1/addresses/ed25519/:address/outputs&quot;,
      &quot;/api/v1/treasury&quot;
    ],
    &quot;whitelistedAddresses&quot;: [
      &quot;127.0.0.1&quot;,
      &quot;::1&quot;
    ],
    &quot;bindAddress&quot;: &quot;0.0.0.0:14265&quot;,
    &quot;powEnabled&quot;: true,
    &quot;powWorkerCount&quot;: 1,
    &quot;limits&quot;: {
      &quot;bodyLength&quot;: &quot;1M&quot;,
      &quot;maxResults&quot;: 1000
    }
  }
</code></pre>
<p>If you want to make the HTTP REST API only accessible from localhost, change the <code>restAPI.bindAddress</code> config option
accordingly.</p>
<p><code>restAPI.permittedRoutes</code> defines which routes can be called from foreign addresses which are not defined under
<code>restAPI.whitelistedAddresses</code>.</p>
<p>If you are concerned with resource consumption, consider turning off <code>restAPI.powEnabled</code>, which makes it so that
clients must perform Proof-of-Work locally, before submitting a message for broadcast. In case you'd like to offer
Proof-of-Work for clients, consider upping <code>restAPI.powWorkerCount</code> to provide a faster message submission experience.</p>
<p>We suggest that you provide your HTTP REST API behind a reverse proxy, such as nginx or Traefik configured with TLS.</p>
<p>Please see some of our additional security recommendations <a href="post_installation/../getting_started/security_101.html">here</a>.</p>
<p>Feel free to explore more details regarding different API calls
at the <a href="https://chrysalis.docs.iota.org/libraries/client.html">IOTA client library documentation</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="managing-node-1"><a class="header" href="#managing-node-1">Managing node</a></h1>
<p>In this chapter, there is an overview of key concepts that are important to consider during a maintenance cycle of your node.</p>
<h2 id="storage"><a class="header" href="#storage">Storage</a></h2>
<p>Hornet uses embedded database engine that stores its data in a directory on file system. The location is controlled via <code>config.json</code> file under the section <code>db</code>, key <code>path</code>:</p>
<pre><code class="language-json">&quot;db&quot;: {
    &quot;engine&quot;: &quot;rocksdb&quot;,
    &quot;path&quot;: &quot;mainnetdb&quot;,
    &quot;autoRevalidation&quot;: false
  }
</code></pre>
<p>There is a convention that the directory is named after the network type: <code>mainnet</code> vs <code>testnet</code>.</p>
<p>Another important directory is a directory dedicated to snapshots controlled via section <code>snapshots</code> of the <code>config.json</code>, specifically <code>fullPath</code> and <code>deltaPath</code> keys:</p>
<pre><code class="language-json">&quot;snapshots&quot;: {
    &quot;interval&quot;: 50,
    &quot;fullPath&quot;: &quot;snapshots/mainnet/full_snapshot.bin&quot;,
    &quot;deltaPath&quot;: &quot;snapshots/mainnet/delta_snapshot.bin&quot;,
    &quot;deltaSizeThresholdPercentage&quot;: 50.0,
    &quot;downloadURLs&quot;: [
      {
        &quot;full&quot;: &quot;https://ls.manapotion.io/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://ls.manapotion.io/delta_snapshot.bin&quot;
      },
      {
        &quot;full&quot;: &quot;https://x-vps.com/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://x-vps.com/delta_snapshot.bin&quot;
      },
      {
        &quot;full&quot;: &quot;https://dbfiles.iota.org/mainnet/hornet/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://dbfiles.iota.org/mainnet/hornet/delta_snapshot.bin&quot;
      }
    ]
</code></pre>
<p>The same convention is applied and directories are named after the network type (<code>mainnet</code> vs <code>testnet</code>).</p>
<p>Here is the full overview of all files and directories that are leveraged by the Hornet:</p>
<pre><code class="language-plaintext">.
├── config.json
├── hornet              &lt;EXECUTABLE&gt;
├── p2pstore
│   ├── [...files]
├── snapshots           &lt;SNAPSHOT DIR&gt;
│   └── testnet
│       ├── delta_snapshot.bin
│       └── full_snapshot.bin
└── testnetdb           &lt;DB DIR&gt;
    ├── [...db files]
</code></pre>
<h2 id="plugins"><a class="header" href="#plugins">Plugins</a></h2>
<p>Hornet can be extended by plugins. Plugins are controlled via section <code>node</code> of the <code>config.json</code> file, specifically <code>disablePlugins</code> and <code>enablePlugins</code> keys:</p>
<pre><code class="language-json">&quot;node&quot;: {
    &quot;alias&quot;: &quot;Mainnet&quot;,
    &quot;profile&quot;: &quot;auto&quot;,
    &quot;disablePlugins&quot;: [],
    &quot;enablePlugins&quot;: []
  },
</code></pre>
<p>Additionally, plugins can be controlled via <a href="post_installation/./post_installation.html">Dashboard/web interface</a>.</p>
<h2 id="spammer"><a class="header" href="#spammer">Spammer</a></h2>
<p>Hornet integrates a lightweight spamming plugin that spams the network with messages. Since the IOTA network is based on Directed Acyclic Graph in which new incoming messages are connected to previous messages (tips), it is healthy for the network to maintain some level of message rate.</p>
<p>The Spammer plugin allows your node to send a number of data messages at regular interval. The interval is set in the <code>mpsRateLimit</code> key, which is the number of messages per second (TPS) that the plugin should try to send.</p>
<p>For example, value <code>&quot;mpsRateLimit&quot;: 0.1</code> would mean to send 1 message every 10 seconds.</p>
<p>Needless to say, it is turned off by default:</p>
<pre><code class="language-json"> &quot;spammer&quot;: {
    &quot;message&quot;: &quot;Binary is the future.&quot;,
    &quot;index&quot;: &quot;HORNET Spammer&quot;,
    &quot;indexSemiLazy&quot;: &quot;HORNET Spammer Semi-Lazy&quot;,
    &quot;cpuMaxUsage&quot;: 0.8,
    &quot;mpsRateLimit&quot;: 0.0,
    &quot;workers&quot;: 0,
    &quot;autostart&quot;: false
  }
</code></pre>
<p><em>This plugin can be also leveraged during a spamming event during which the community tests the throughput of the network.</em></p>
<h2 id="snapshots"><a class="header" href="#snapshots">Snapshots</a></h2>
<p>Your node's ledger accumulates many messages, which uses a significant disk capacity over time. This topic discusses how to configure local snapshots to prune old transactions from your node's database and to create backup snapshot files.</p>
<pre><code class="language-json"> &quot;snapshots&quot;: {
    &quot;interval&quot;: 50,
    &quot;fullPath&quot;: &quot;snapshots/mainnet/full_snapshot.bin&quot;,
    &quot;deltaPath&quot;: &quot;snapshots/mainnet/delta_snapshot.bin&quot;,
    &quot;deltaSizeThresholdPercentage&quot;: 50.0,
    &quot;downloadURLs&quot;: [
      {
        &quot;full&quot;: &quot;https://ls.manapotion.io/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://ls.manapotion.io/delta_snapshot.bin&quot;
      },
      {
        &quot;full&quot;: &quot;https://x-vps.com/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://x-vps.com/delta_snapshot.bin&quot;
      },
      {
        &quot;full&quot;: &quot;https://dbfiles.iota.org/mainnet/hornet/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://dbfiles.iota.org/mainnet/hornet/delta_snapshot.bin&quot;
      }
    ]
  },
  &quot;pruning&quot;: {
    &quot;milestones&quot;: {
      &quot;enabled&quot;: false,
      &quot;maxMilestonesToKeep&quot;: 60480
    },
    &quot;size&quot;: {
      &quot;enabled&quot;: true,
      &quot;targetSize&quot;: &quot;30GB&quot;,
      &quot;thresholdPercentage&quot;: 10.0,
      &quot;cooldownTime&quot;: &quot;5m&quot;
    },
    &quot;pruneReceipts&quot;: false
  },
</code></pre>
<h3 id="snapshot-pruning"><a class="header" href="#snapshot-pruning">Snapshot pruning</a></h3>
<p>During a snapshot, messages may be deleted from the ledger if they were confirmed by an old milestone. In other words, the term <code>pruning</code> means the deletion of the old history from the node database:</p>
<ul>
<li>To enable pruning, set the <code>pruning.milestones.enabled</code> or <code>pruning.size.enabled</code> key to enabled</li>
<li>The <code>pruning.milestones.maxMilestonesToKeep</code> defines how far back from the current confirmed milestone should be pruned</li>
<li>The <code>pruning.size.targetSize</code> defines the maximum database size, old data will be pruned.</li>
</ul>
<p>There are two types of snapshots:</p>
<p><strong>Delta snapshot</strong>
A delta snapshot points to a specific full snapshot, ie. delta snapshot consists of the changes since the last full snapshot.</p>
<p><strong>Full snapshot</strong>
The full snapshot includes the whole ledger state to a specific milestone and a solid entry point.</p>
<h3 id="how-to-work-with-snapshots"><a class="header" href="#how-to-work-with-snapshots">How to work with snapshots</a></h3>
<p>If your run Hornet node for the first time, you need to start it with a full-snapshot. <em>The Hornet downloads it for you automatically from trusted sources.</em></p>
<p>Additionally, you can start it with an specific delta snapshot.</p>
<p>You can use the Hornet tools for that:</p>
<pre><code class="language-bash">hornet tool
</code></pre>
<ul>
<li>snapgen: generates an initial snapshot for a private network</li>
<li>snapmerge: merges a full and delta snapshot into an updated full snapshot</li>
<li>snapinfo: outputs information about a snapshot file</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-configuration"><a class="header" href="#core-configuration">Core configuration</a></h1>
<p>Hornet uses a JSON standard format as a config file. If you are unsure about JSON syntax, have a look at the official specs <a href="https://www.json.org">here</a>.</p>
<p>The default config file is named <code>config.json</code>. You can change the path or name of the config file by using the <code>-c</code> or <code>--config</code> argument while executing <code>hornet</code> executable.</p>
<p>For Example: <code>hornet -c config_example.json</code>.</p>
<p>You can always get the most up-to-date description of the config parameters by running <code>hornet -h --full</code>.</p>
<h2 id="table-of-content"><a class="header" href="#table-of-content">Table of content</a></h2>
<ul>
<li><a href="post_installation/config.html#table-of-content">Table of content</a></li>
<li><a href="post_installation/config.html#1-rest-api">1. REST API</a>
<ul>
<li><a href="post_installation/config.html#jwt-auth">JWT Auth</a></li>
<li><a href="post_installation/config.html#limits">Limits</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#2-dashboard">2. Dashboard</a>
<ul>
<li><a href="post_installation/config.html#auth">Auth</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#3-db">3. DB</a></li>
<li><a href="post_installation/config.html#4-snapshots">4. Snapshots</a>
<ul>
<li><a href="post_installation/config.html#downloadurls">DownloadURLs</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#5-pruning">5. Pruning</a>
<ul>
<li><a href="post_installation/config.html#milestones">Milestones</a></li>
<li><a href="post_installation/config.html#size">Size</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#6-protocol">6. Protocol</a>
<ul>
<li><a href="post_installation/config.html#publickeyranges">PublicKeyRanges</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#7-proof-of-work">7. Proof of Work</a></li>
<li><a href="post_installation/config.html#8-requests">8. Requests</a></li>
<li><a href="post_installation/config.html#9-coordinator">9. Coordinator</a>
<ul>
<li><a href="post_installation/config.html#checkpoints">Checkpoints</a></li>
<li><a href="post_installation/config.html#quorum">Quorum</a>
<ul>
<li><a href="post_installation/config.html#groups">Groups</a>
<ul>
<li><a href="post_installation/config.html#group_name">{GROUP_NAME}</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="post_installation/config.html#signing">Signing</a></li>
<li><a href="post_installation/config.html#tipsel">Tipsel</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#10-tangle">10. Tangle</a></li>
<li><a href="post_installation/config.html#11-tipsel">11. Tipsel</a>
<ul>
<li><a href="post_installation/config.html#nonlazy">NonLazy</a></li>
<li><a href="post_installation/config.html#semilazy">SemiLazy</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#12-node">12. Node</a></li>
<li><a href="post_installation/config.html#13-p2p">13. P2P</a>
<ul>
<li><a href="post_installation/config.html#connectionmanager">ConnectionManager</a></li>
<li><a href="post_installation/config.html#peerstore">PeerStore</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#14-logger">14. Logger</a></li>
<li><a href="post_installation/config.html#15-warpsync">15. Warpsync</a></li>
<li><a href="post_installation/config.html#16-spammer">16. Spammer</a></li>
<li><a href="post_installation/config.html#17-mqtt">17. MQTT</a></li>
<li><a href="post_installation/config.html#18-profiling">18. Profiling</a></li>
<li><a href="post_installation/config.html#19-prometheus">19. Prometheus</a>
<ul>
<li><a href="post_installation/config.html#fileservicediscovery">FileServiceDiscovery</a></li>
</ul>
</li>
<li><a href="post_installation/config.html#20-gossip">20. Gossip</a></li>
<li><a href="post_installation/config.html#21-debug">21. Debug</a></li>
<li><a href="post_installation/config.html#22-legacy">22. Legacy</a></li>
<li><a href="post_installation/config.html#221-migrator">22.1 Migrator</a></li>
<li><a href="post_installation/config.html#222-receipts">22.2 Receipts</a>
<ul>
<li><a href="post_installation/config.html#backup">Backup</a></li>
<li><a href="post_installation/config.html#validator">Validator</a>
<ul>
<li><a href="post_installation/config.html#api">Api</a></li>
<li><a href="post_installation/config.html#coordinator">Coordinator</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="1-rest-api"><a class="header" href="#1-rest-api">1. REST API</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#jwt-auth">jwtAuth</a></td><td align="left">config for JWT auth</td><td align="left">object</td></tr>
<tr><td align="left">permittedRoutes</td><td align="left">the allowed HTTP REST routes which can be called from non whitelisted addresses</td><td align="left">array of strings</td></tr>
<tr><td align="left">whitelistedAddresses</td><td align="left">the whitelist of addresses which are allowed to access the REST API</td><td align="left">array of strings</td></tr>
<tr><td align="left">bindAddress</td><td align="left">the bind address on which the REST API listens on</td><td align="left">string</td></tr>
<tr><td align="left">powEnabled</td><td align="left">whether the node does PoW if messages are received via API</td><td align="left">bool</td></tr>
<tr><td align="left">powWorkerCount</td><td align="left">the amount of workers used for calculating PoW when issuing messages via API</td><td align="left">integer</td></tr>
<tr><td align="left"><a href="post_installation/config.html#limits">limits</a></td><td align="left">config for api limits</td><td align="left">object</td></tr>
<tr><td align="left">excludeHealthCheckFromAuth</td><td align="left">whether to allow the health check route anyways</td><td align="left">bool</td></tr>
</tbody></table>
<h3 id="jwt-auth"><a class="header" href="#jwt-auth">JWT Auth</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether to use JWT auth for the REST API</td><td align="left">bool</td></tr>
<tr><td align="left">salt</td><td align="left">salt used inside the JWT tokens for the REST API. Change this to a different value to invalidate JWT tokens not matching this new value</td><td align="left">string</td></tr>
</tbody></table>
<h3 id="limits"><a class="header" href="#limits">Limits</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bodyLength</td><td align="left">the maximum number of characters that the body of an API call may contain</td><td align="left">string</td></tr>
<tr><td align="left">maxResults</td><td align="left">the maximum number of results that may be returned by an endpoint</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;restAPI&quot;: {
    &quot;authEnabled&quot;: false,
    &quot;excludeHealthCheckFromAuth&quot;: false,
    &quot;permittedRoutes&quot;: [
      &quot;/health&quot;,
      &quot;/mqtt&quot;,
      &quot;/api/v1/info&quot;,
      &quot;/api/v1/tips&quot;,
      &quot;/api/v1/messages/:messageID&quot;,
      &quot;/api/v1/messages/:messageID/metadata&quot;,
      &quot;/api/v1/messages/:messageID/raw&quot;,
      &quot;/api/v1/messages/:messageID/children&quot;,
      &quot;/api/v1/messages&quot;,
      &quot;/api/v1/transactions/:transactionID/included-message&quot;,
      &quot;/api/v1/milestones/:milestoneIndex&quot;,
      &quot;/api/v1/milestones/:milestoneIndex/utxo-changes&quot;,
      &quot;/api/v1/outputs/:outputID&quot;,
      &quot;/api/v1/addresses/:address&quot;,
      &quot;/api/v1/addresses/:address/outputs&quot;,
      &quot;/api/v1/addresses/ed25519/:address&quot;,
      &quot;/api/v1/addresses/ed25519/:address/outputs&quot;,
      &quot;/api/v1/treasury&quot;
    ],
    &quot;whitelistedAddresses&quot;: [
      &quot;127.0.0.1&quot;,
      &quot;::1&quot;
    ],
    &quot;bindAddress&quot;: &quot;0.0.0.0:14265&quot;,
    &quot;powEnabled&quot;: false,
    &quot;powWorkerCount&quot;: 1,
    &quot;limits&quot;: {
      &quot;bodyLength&quot;: &quot;1M&quot;,
      &quot;maxResults&quot;: 1000
    }
  },
</code></pre>
<h2 id="2-dashboard"><a class="header" href="#2-dashboard">2. Dashboard</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bindAddress</td><td align="left">the bind address on which the dashboard can be access from</td><td align="left">string</td></tr>
<tr><td align="left">dev</td><td align="left">whether to run the dashboard in dev mode</td><td align="left">bool</td></tr>
<tr><td align="left"><a href="post_installation/config.html#auth">auth</a></td><td align="left">config for dashboard auth</td><td align="left">object</td></tr>
</tbody></table>
<h3 id="auth"><a class="header" href="#auth">Auth</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">sessionTimeout</td><td align="left">how long the auth session should last before expiring</td><td align="left">string</td></tr>
<tr><td align="left">username</td><td align="left">the auth username</td><td align="left">string</td></tr>
<tr><td align="left">passwordHash</td><td align="left">the auth password+salt as a scrypt hash</td><td align="left">string</td></tr>
<tr><td align="left">passwordSalt</td><td align="left">the auth salt used for hashing the password</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;dashboard&quot;: {
    &quot;bindAddress&quot;: &quot;localhost:8081&quot;,
    &quot;dev&quot;: false,
    &quot;auth&quot;: {
      &quot;sessionTimeout&quot;: &quot;72h&quot;,
      &quot;username&quot;: &quot;admin&quot;,
      &quot;passwordHash&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,
      &quot;passwordSalt&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;
    }
  },
</code></pre>
<h2 id="3-db"><a class="header" href="#3-db">3. DB</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">engine</td><td align="left">the used database engine (pebble/bolt/rocksdb)</td><td align="left">string</td></tr>
<tr><td align="left">path</td><td align="left">the path to the database folder</td><td align="left">string</td></tr>
<tr><td align="left">autoRevalidation</td><td align="left">whether to automatically start revalidation on startup if the database is corrupted</td><td align="left">bool</td></tr>
<tr><td align="left">debug</td><td align="left">ignore the check for corrupted databases (should only be used for debug reasons)</td><td align="left">bool</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;db&quot;: {
    &quot;engine&quot;: &quot;rocksdb&quot;,
    &quot;path&quot;: &quot;mainnetdb&quot;,
    &quot;autoRevalidation&quot;: false,
    &quot;debug&quot;: false,
  },
</code></pre>
<h2 id="4-snapshots"><a class="header" href="#4-snapshots">4. Snapshots</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">interval</td><td align="left">interval, in milestones, at which snapshot files are created (snapshots are only created if the node is synced)</td><td align="left">integer</td></tr>
<tr><td align="left">depth</td><td align="left">the depth, respectively the starting point, at which a snapshot of the ledger is generated</td><td align="left">integer</td></tr>
<tr><td align="left">fullPath</td><td align="left">path to the full snapshot file</td><td align="left">string</td></tr>
<tr><td align="left">deltaPath</td><td align="left">path to the delta snapshot file</td><td align="left">string</td></tr>
<tr><td align="left">deltaSizeThresholdPercentage</td><td align="left">create a full snapshot if the size of a delta snapshot reaches a certain percentage of the full snapshot  (0.0 = always create delta snapshot to keep ms diff history)</td><td align="left">float</td></tr>
<tr><td align="left"><a href="post_installation/config.html#downloadurls">downloadURLs</a></td><td align="left">URLs to load the snapshot files from.</td><td align="left">array of objects</td></tr>
</tbody></table>
<h3 id="downloadurls"><a class="header" href="#downloadurls">DownloadURLs</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">full</td><td align="left">download link to the full snapshot file</td><td align="left">string</td></tr>
<tr><td align="left">delta</td><td align="left">download link to the delta snapshot file</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">&quot;snapshots&quot;: {
    &quot;interval&quot;: 50,
    &quot;depth&quot;: 50,
    &quot;fullPath&quot;: &quot;snapshots/mainnet/full_snapshot.bin&quot;,
    &quot;deltaPath&quot;: &quot;snapshots/mainnet/delta_snapshot.bin&quot;,
    &quot;deltaSizeThresholdPercentage&quot;: 50.0,
    &quot;downloadURLs&quot;: [
      {
        &quot;full&quot;: &quot;https://source1.example.com/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://source1.example.com/delta_snapshot.bin&quot;
      },
      {
        &quot;full&quot;: &quot;https://source2.example.com/full_snapshot.bin&quot;,
        &quot;delta&quot;: &quot;https://source2.example.com/delta_snapshot.bin&quot;
      }
    ]
  },
</code></pre>
<h2 id="5-pruning"><a class="header" href="#5-pruning">5. Pruning</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#Milestones">milestones</a></td><td align="left">milestones based pruning</td><td align="left">object</td></tr>
<tr><td align="left"><a href="post_installation/config.html#Size">size</a></td><td align="left">database size based pruning</td><td align="left">object</td></tr>
<tr><td align="left">pruneReceipts</td><td align="left">whether to delete old receipts data from the database</td><td align="left">bool</td></tr>
</tbody></table>
<h3 id="milestones"><a class="header" href="#milestones">Milestones</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether to delete old message data from the database based on maximum milestones to keep</td><td align="left">bool</td></tr>
<tr><td align="left">maxMilestonesToKeep</td><td align="left">maximum amount of milestone cones to keep in the database</td><td align="left">integer</td></tr>
</tbody></table>
<h3 id="size"><a class="header" href="#size">Size</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether to delete old message data from the database based on maximum database size</td><td align="left">bool</td></tr>
<tr><td align="left">targetSize</td><td align="left">target size of the database</td><td align="left">string</td></tr>
<tr><td align="left">thresholdPercentage</td><td align="left">the percentage the database size gets reduced if the target size is reached</td><td align="left">float</td></tr>
<tr><td align="left">cooldownTime</td><td align="left">cooldown time between two pruning by database size events</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;pruning&quot;: {
    &quot;milestones&quot;: {
      &quot;enabled&quot;: false,
      &quot;maxMilestonesToKeep&quot;: 60480
    },
    &quot;size&quot;: {
      &quot;enabled&quot;: true,
      &quot;targetSize&quot;: &quot;30GB&quot;,
      &quot;thresholdPercentage&quot;: 10.0,
      &quot;cooldownTime&quot;: &quot;5m&quot;
    },
    &quot;pruneReceipts&quot;: false
  },
</code></pre>
<h2 id="6-protocol"><a class="header" href="#6-protocol">6. Protocol</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">networkID</td><td align="left">the network ID on which this node operates on</td><td align="left">string</td></tr>
<tr><td align="left">bech32HRP</td><td align="left">the HRP which should be used for Bech32 addresses</td><td align="left">string</td></tr>
<tr><td align="left">minPoWScore</td><td align="left">the minimum PoW score required by the network</td><td align="left">float</td></tr>
<tr><td align="left">milestonePublicKeyCount</td><td align="left">the amount of public keys in a milestone</td><td align="left">integer</td></tr>
<tr><td align="left"><a href="post_installation/config.html#publickeyranges">publicKeyRanges</a></td><td align="left">List of public key ranges from the coordinator</td><td align="left">array of objects</td></tr>
</tbody></table>
<h3 id="publickeyranges"><a class="header" href="#publickeyranges">PublicKeyRanges</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">key</td><td align="left">public key</td><td align="left">string</td></tr>
<tr><td align="left">start</td><td align="left">Milestone start index</td><td align="left">integer</td></tr>
<tr><td align="left">end</td><td align="left">Milestone end index</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;protocol&quot;: {
    &quot;networkID&quot;: &quot;mainnet1&quot;,
    &quot;bech32HRP&quot;: &quot;iota&quot;,
    &quot;minPoWScore&quot;: 4000,
    &quot;milestonePublicKeyCount&quot;: 2,
    &quot;publicKeyRanges&quot;: [
      {
        &quot;key&quot;: &quot;7205c145525cee64f1c9363696811d239919d830ad964b4e29359e6475848f5a&quot;,
        &quot;start&quot;: 0,
        &quot;end&quot;: 0
      },
      {
        &quot;key&quot;: &quot;e468e82df33d10dea3bd0eadcd7867946a674d207c39f5af4cc44365d268a7e6&quot;,
        &quot;start&quot;: 0,
        &quot;end&quot;: 0
      },
      {
        &quot;key&quot;: &quot;0758028d34508079ba1f223907ac3bb5ce8f6bdccc6b961c7c85a2f460b30c1d&quot;,
        &quot;start&quot;: 0,
        &quot;end&quot;: 0
      }
    ]
  },
</code></pre>
<h2 id="7-proof-of-work"><a class="header" href="#7-proof-of-work">7. Proof of Work</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">refreshTipsInterval</td><td align="left">interval for refreshing tips during PoW for spammer messages and messages passed without parents via API</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;pow&quot;: {
    &quot;refreshTipsInterval&quot;: &quot;5s&quot;
  },
</code></pre>
<h2 id="8-requests"><a class="header" href="#8-requests">8. Requests</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">discardOlderThan</td><td align="left">the maximum time a request stays in the request queue</td><td align="left">string</td></tr>
<tr><td align="left">pendingReEnqueueInterval</td><td align="left">the interval the pending requests are re-enqueued</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;requests&quot;: {
    &quot;discardOlderThan&quot;: &quot;15s&quot;,
    &quot;pendingReEnqueueInterval&quot;: &quot;5s&quot;
  },
</code></pre>
<h2 id="9-coordinator"><a class="header" href="#9-coordinator">9. Coordinator</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#checkpoints">checkpoints</a></td><td align="left">config for checkpoints</td><td align="left">object</td></tr>
<tr><td align="left">interval</td><td align="left">the interval milestones are issued</td><td align="left">string</td></tr>
<tr><td align="left">powWorkerCount</td><td align="left">the amount of workers used for calculating PoW when issuing checkpoints and milestones</td><td align="left">integer</td></tr>
<tr><td align="left"><a href="post_installation/config.html#quorum">quorum</a></td><td align="left">config for quorum</td><td align="left">object</td></tr>
<tr><td align="left"><a href="post_installation/config.html#signing">signing</a></td><td align="left">config for signing</td><td align="left">object</td></tr>
<tr><td align="left">stateFilePath</td><td align="left">the path to the state file of the coordinator</td><td align="left">string</td></tr>
<tr><td align="left"><a href="post_installation/config.html#tipsel">tipsel</a></td><td align="left">config for tip selection</td><td align="left">object</td></tr>
</tbody></table>
<h3 id="checkpoints"><a class="header" href="#checkpoints">Checkpoints</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">maxTrackedMessages</td><td align="left">maximum amount of known messages for milestone tipselection</td><td align="left">integer</td></tr>
</tbody></table>
<h3 id="quorum"><a class="header" href="#quorum">Quorum</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether the coordinator quorum is enabled</td><td align="left">bool</td></tr>
<tr><td align="left"><a href="post_installation/config.html#groups">groups</a></td><td align="left">the quorum groups used to ask other nodes for correct ledger state of the coordinator</td><td align="left">array of object arrays</td></tr>
<tr><td align="left">timeout</td><td align="left">the timeout until a node in the quorum must have answered</td><td align="left">string</td></tr>
</tbody></table>
<h4 id="groups"><a class="header" href="#groups">Groups</a></h4>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#group_name">{GROUP_NAME}</a></td><td align="left">the qourum group used to ask other nodes for correct ledger state of the coordinator</td><td align="left">array of objects</td></tr>
</tbody></table>
<h5 id="group_name"><a class="header" href="#group_name">{GROUP_NAME}</a></h5>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">alias</td><td align="left">alias of the quorum client (optional)</td><td align="left">string</td></tr>
<tr><td align="left">baseURL</td><td align="left">baseURL of the quorum client</td><td align="left">string</td></tr>
<tr><td align="left">userName</td><td align="left">username for basic auth (optional)</td><td align="left">string</td></tr>
<tr><td align="left">password</td><td align="left">password for basic auth (optional)</td><td align="left">string</td></tr>
</tbody></table>
<h3 id="signing"><a class="header" href="#signing">Signing</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">provider</td><td align="left">the signing provider the coordinator uses to sign a milestone (local/remote)</td><td align="left">string</td></tr>
<tr><td align="left">remoteAddress</td><td align="left">the address of the remote signing provider (insecure connection!)</td><td align="left">string</td></tr>
</tbody></table>
<h3 id="tipsel"><a class="header" href="#tipsel">Tipsel</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">heaviestBranchSelectionTimeout</td><td align="left">the maximum duration to select the heaviest branch tips</td><td align="left">string</td></tr>
<tr><td align="left">maxHeaviestBranchTipsPerCheckpoint</td><td align="left">maximum amount of checkpoint messages with heaviest branch tips</td><td align="left">integer</td></tr>
<tr><td align="left">minHeaviestBranchUnreferencedMessagesThreshold</td><td align="left">minimum threshold of unreferenced messages in the heaviest branch</td><td align="left">integer</td></tr>
<tr><td align="left">randomTipsPerCheckpoint</td><td align="left">amount of checkpoint messages with random tips</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;coordinator&quot;: {
    &quot;stateFilePath&quot;: &quot;coordinator.state&quot;,
    &quot;interval&quot;: &quot;10s&quot;,
    &quot;powWorkerCount&quot;: 15,
    &quot;checkpoints&quot;: {
      &quot;maxTrackedMessages&quot;: 10000
    },
    &quot;tipsel&quot;: {
      &quot;minHeaviestBranchUnreferencedMessagesThreshold&quot;: 20,
      &quot;maxHeaviestBranchTipsPerCheckpoint&quot;: 10,
      &quot;randomTipsPerCheckpoint&quot;: 3,
      &quot;heaviestBranchSelectionTimeout&quot;: &quot;100ms&quot;
    },
    &quot;signing&quot;: {
      &quot;provider&quot;: &quot;local&quot;,
      &quot;remoteAddress&quot;: &quot;localhost:12345&quot;
    },
    &quot;quorum&quot;: {
      &quot;enabled&quot;: false,
      &quot;groups&quot;: {
        &quot;hornet&quot;: [
          {
            &quot;alias&quot;: &quot;hornet1&quot;,
            &quot;baseURL&quot;: &quot;http://hornet1.example.com:14265&quot;,
            &quot;userName&quot;: &quot;&quot;,
            &quot;password&quot;: &quot;&quot;
          }
        ],
        &quot;bee&quot;: [
          {
            &quot;alias&quot;: &quot;bee1&quot;,
            &quot;baseURL&quot;: &quot;http://bee1.example.com:14265&quot;,
            &quot;userName&quot;: &quot;&quot;,
            &quot;password&quot;: &quot;&quot;
          }
        ]
      },
      &quot;timeout&quot;: &quot;2s&quot;
    }
  },
</code></pre>
<h2 id="10-tangle"><a class="header" href="#10-tangle">10. Tangle</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">milestoneTimeout</td><td align="left">the interval milestone timeout events are fired if no new milestones are received</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;tangle&quot;: {
    &quot;milestoneTimeout&quot;: &quot;30s&quot;
  },
</code></pre>
<h2 id="11-tipsel"><a class="header" href="#11-tipsel">11. Tipsel</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">maxDeltaMsgYoungestConeRootIndexToCMI</td><td align="left">the maximum allowed delta value for the YCRI of a given message in relation to the current CMI before it gets lazy</td><td align="left">integer</td></tr>
<tr><td align="left">maxDeltaMsgOldestConeRootIndexToCMI</td><td align="left">the maximum allowed delta value between OCRI of a given message in relation to the current CMI before it gets semi-lazy</td><td align="left">integer</td></tr>
<tr><td align="left">belowMaxDepth</td><td align="left">the maximum allowed delta value for the OCRI of a given message in relation to the current CMI before it gets lazy</td><td align="left">integer</td></tr>
<tr><td align="left"><a href="post_installation/nonlazy">nonLazy</a></td><td align="left">config for tips from the non-lazy pool</td><td align="left">object</td></tr>
<tr><td align="left"><a href="post_installation/semilazy">semiLazy</a></td><td align="left">config for tips from the semi-lazy pool</td><td align="left">object</td></tr>
</tbody></table>
<h3 id="nonlazy"><a class="header" href="#nonlazy">NonLazy</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">retentionRulesTipsLimit</td><td align="left">the maximum number of current tips for which the retention rules are checked (non-lazy)</td><td align="left">integer</td></tr>
<tr><td align="left">maxReferencedTipAge</td><td align="left">the maximum time a tip remains in the tip pool after it was referenced by the first message (non-lazy)</td><td align="left">string</td></tr>
<tr><td align="left">maxChildren</td><td align="left">the maximum amount of references by other messages before the tip is removed from the tip pool (non-lazy)</td><td align="left">integer</td></tr>
<tr><td align="left">spammerTipsThreshold</td><td align="left">the maximum amount of tips in a tip-pool (non-lazy) before the spammer tries to reduce these</td><td align="left">integer</td></tr>
</tbody></table>
<h3 id="semilazy"><a class="header" href="#semilazy">SemiLazy</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">retentionRulesTipsLimit</td><td align="left">the maximum number of current tips for which the retention rules are checked (semi-lazy)</td><td align="left">integer</td></tr>
<tr><td align="left">maxReferencedTipAge</td><td align="left">the maximum time a tip remains in the tip pool after it was referenced by the first message (semi-lazy)</td><td align="left">string</td></tr>
<tr><td align="left">maxChildren</td><td align="left">the maximum amount of references by other messages before the tip is removed from the tip pool (semi-lazy)</td><td align="left">integer</td></tr>
<tr><td align="left">spammerTipsThreshold</td><td align="left">the maximum amount of tips in a tip-pool (semi-lazy) before the spammer tries to reduce these</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;tipsel&quot;: {
    &quot;maxDeltaMsgYoungestConeRootIndexToCMI&quot;: 8,
    &quot;maxDeltaMsgOldestConeRootIndexToCMI&quot;: 13,
    &quot;belowMaxDepth&quot;: 15,
    &quot;nonLazy&quot;: {
      &quot;retentionRulesTipsLimit&quot;: 100,
      &quot;maxReferencedTipAge&quot;: &quot;3s&quot;,
      &quot;maxChildren&quot;: 30,
      &quot;spammerTipsThreshold&quot;: 0
    },
    &quot;semiLazy&quot;: {
      &quot;retentionRulesTipsLimit&quot;: 20,
      &quot;maxReferencedTipAge&quot;: &quot;3s&quot;,
      &quot;maxChildren&quot;: 2,
      &quot;spammerTipsThreshold&quot;: 30
    }
  },
</code></pre>
<h2 id="12-node"><a class="header" href="#12-node">12. Node</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">alias</td><td align="left">the alias to identify a node</td><td align="left">string</td></tr>
<tr><td align="left">profile</td><td align="left">the profile the node runs with</td><td align="left">string</td></tr>
<tr><td align="left">disablePlugins</td><td align="left">a list of plugins that shall be disabled</td><td align="left">array of strings</td></tr>
<tr><td align="left">enablePlugins</td><td align="left">a list of plugins that shall be enabled</td><td align="left">array of strings</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;node&quot;: {
    &quot;alias&quot;: &quot;Mainnet&quot;,
    &quot;profile&quot;: &quot;auto&quot;,
    &quot;disablePlugins&quot;: [
      &quot;Warpsync&quot;
    ],
    &quot;enablePlugins&quot;: [
      &quot;Prometheus&quot;,
      &quot;Spammer&quot;
    ]
  },
</code></pre>
<h2 id="13-p2p"><a class="header" href="#13-p2p">13. P2P</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bindMultiAddresses</td><td align="left">the bind addresses for this node</td><td align="left">array of strings</td></tr>
<tr><td align="left"><a href="post_installation/config.html#connectionmanager">connectionManager</a></td><td align="left">config for connection manager</td><td align="left">object</td></tr>
<tr><td align="left">gossipUnknownPeersLimit</td><td align="left">maximum amount of unknown peers a gossip protocol connection is established to</td><td align="left">integer</td></tr>
<tr><td align="left">identityPrivateKey</td><td align="left">private key used to derive the node identity (optional)</td><td align="left">string</td></tr>
<tr><td align="left"><a href="post_installation/config.html#peerstore">peerStore</a></td><td align="left">config for peer store</td><td align="left">object</td></tr>
<tr><td align="left">reconnectInterval</td><td align="left">the time to wait before trying to reconnect to a disconnected peer</td><td align="left">string</td></tr>
</tbody></table>
<h3 id="connectionmanager"><a class="header" href="#connectionmanager">ConnectionManager</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">highWatermark</td><td align="left">the threshold up on which connections count truncates to the lower watermark</td><td align="left">integer</td></tr>
<tr><td align="left">lowWatermark</td><td align="left">the minimum connections count to hold after the high watermark was reached</td><td align="left">integer</td></tr>
</tbody></table>
<h3 id="peerstore"><a class="header" href="#peerstore">PeerStore</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">path</td><td align="left">the path to the peer store</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;p2p&quot;: {
    &quot;bindMultiAddresses&quot;: [
      &quot;/ip4/127.0.0.1/tcp/15600&quot;
    ],
    &quot;connectionManager&quot;: {
      &quot;highWatermark&quot;: 10,
      &quot;lowWatermark&quot;: 5
    },
    &quot;gossipUnknownPeersLimit&quot;: 4,
    &quot;identityPrivateKey&quot;: &quot;&quot;,
    &quot;peerStore&quot;: {
      &quot;path&quot;: &quot;./p2pstore&quot;
    },
    &quot;reconnectInterval&quot;: &quot;30s&quot;
  },
</code></pre>
<h2 id="14-logger"><a class="header" href="#14-logger">14. Logger</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">level</td><td align="left">the minimum enabled logging level. Valid values are: &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;dpanic&quot;, &quot;panic&quot;, &quot;fatal&quot;</td><td align="left">string</td></tr>
<tr><td align="left">disableCaller</td><td align="left">stops annotating logs with the calling function's file name and line number</td><td align="left">bool</td></tr>
<tr><td align="left">encoding</td><td align="left">sets the logger's encoding. Valid values are &quot;json&quot; and &quot;console&quot;</td><td align="left">string</td></tr>
<tr><td align="left">outputPaths</td><td align="left">a list of URLs, file paths or stdout/stderr to write logging output to</td><td align="left">array of strings</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;logger&quot;: {
    &quot;level&quot;: &quot;info&quot;,
    &quot;disableCaller&quot;: true,
    &quot;encoding&quot;: &quot;console&quot;,
    &quot;outputPaths&quot;: [
      &quot;stdout&quot;,
      &quot;hornet.log&quot;
    ]
  },
</code></pre>
<h2 id="15-warpsync"><a class="header" href="#15-warpsync">15. Warpsync</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">advancementRange</td><td align="left">the used advancement range per warpsync checkpoint</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;warpsync&quot;: {
    &quot;advancementRange&quot;: 150,
  }
</code></pre>
<h2 id="16-spammer"><a class="header" href="#16-spammer">16. Spammer</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">message</td><td align="left">the message to embed within the spam messages</td><td align="left">string</td></tr>
<tr><td align="left">index</td><td align="left">the indexation of the message</td><td align="left">string</td></tr>
<tr><td align="left">indexSemiLazy</td><td align="left">the indexation of the message if the semi-lazy pool is used (uses &quot;index&quot; if empty)</td><td align="left">string</td></tr>
<tr><td align="left">cpuMaxUsage</td><td align="left">workers remains idle for a while when cpu usage gets over this limit (0 = disable)</td><td align="left">float</td></tr>
<tr><td align="left">mpsRateLimit</td><td align="left">the rate limit for the spammer (0 = no limit)</td><td align="left">float</td></tr>
<tr><td align="left">workers</td><td align="left">the amount of parallel running spammers</td><td align="left">integer</td></tr>
<tr><td align="left">autostart</td><td align="left">automatically start the spammer on node startup</td><td align="left">bool</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;spammer&quot;: {
    &quot;message&quot;: &quot;Binary is the future.&quot;,
    &quot;index&quot;: &quot;HORNET Spammer&quot;,
    &quot;indexSemiLazy&quot;: &quot;HORNET Spammer Semi-Lazy&quot;,
    &quot;cpuMaxUsage&quot;: 0.5,
    &quot;mpsRateLimit&quot;: 0,
    &quot;workers&quot;: 1,
    &quot;autostart&quot;: false
  },
</code></pre>
<h2 id="17-mqtt"><a class="header" href="#17-mqtt">17. MQTT</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bindAddress</td><td align="left">bind address on which the MQTT broker listens on</td><td align="left">string</td></tr>
<tr><td align="left">wsPort</td><td align="left">port of the WebSocket MQTT broker</td><td align="left">integer</td></tr>
<tr><td align="left">workerCount</td><td align="left">number of parallel workers the MQTT broker uses to publish messages</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;mqtt&quot;: {
    &quot;bindAddress&quot;: &quot;localhost:1883&quot;,
    &quot;wsPort&quot;: 1888,
    &quot;workerCount&quot;: 100
  },
</code></pre>
<h2 id="18-profiling"><a class="header" href="#18-profiling">18. Profiling</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bindAddress</td><td align="left">the bind address on which the profiler listens on</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;profiling&quot;: {
    &quot;bindAddress&quot;: &quot;localhost:6060&quot;
  },
</code></pre>
<h2 id="19-prometheus"><a class="header" href="#19-prometheus">19. Prometheus</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">bindAddress</td><td align="left">the bind address on which the Prometheus exporter listens on</td><td align="left">string</td></tr>
<tr><td align="left"><a href="post_installation/config.html#fileservicediscovery">fileServiceDiscovery</a></td><td align="left">config for file service discovery</td><td align="left">object</td></tr>
<tr><td align="left">databaseMetrics</td><td align="left">include database metrics</td><td align="left">bool</td></tr>
<tr><td align="left">nodeMetrics</td><td align="left">include node metrics</td><td align="left">bool</td></tr>
<tr><td align="left">gossipMetrics</td><td align="left">include gossip metrics</td><td align="left">bool</td></tr>
<tr><td align="left">cachesMetrics</td><td align="left">include caches metrics</td><td align="left">bool</td></tr>
<tr><td align="left">restAPIMetrics</td><td align="left">include restAPI metrics</td><td align="left">bool</td></tr>
<tr><td align="left">migrationMetrics</td><td align="left">include migration metrics</td><td align="left">bool</td></tr>
<tr><td align="left">coordinatorMetrics</td><td align="left">include coordinator metrics</td><td align="left">bool</td></tr>
<tr><td align="left">debugMetrics</td><td align="left">include debug metrics</td><td align="left">bool</td></tr>
<tr><td align="left">goMetrics</td><td align="left">include go metrics</td><td align="left">bool</td></tr>
<tr><td align="left">processMetrics</td><td align="left">include process metrics</td><td align="left">bool</td></tr>
<tr><td align="left">promhttpMetrics</td><td align="left">include promhttp metrics</td><td align="left">bool</td></tr>
</tbody></table>
<h3 id="fileservicediscovery"><a class="header" href="#fileservicediscovery">FileServiceDiscovery</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether the plugin should write a Prometheus 'file SD' file</td><td align="left">bool</td></tr>
<tr><td align="left">path</td><td align="left">the path where to write the 'file SD' file to</td><td align="left">string</td></tr>
<tr><td align="left">target</td><td align="left">the target to write into the 'file SD' file</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;prometheus&quot;: {
    &quot;bindAddress&quot;: &quot;localhost:9311&quot;,
    &quot;fileServiceDiscovery&quot;: {
      &quot;enabled&quot;: false,
      &quot;path&quot;: &quot;target.json&quot;,
      &quot;target&quot;: &quot;localhost:9311&quot;
    },
    &quot;databaseMetrics&quot;: true,
    &quot;nodeMetrics&quot;: true,
    &quot;gossipMetrics&quot;: true,
    &quot;cachesMetrics&quot;: true,
    &quot;restAPIMetrics&quot;: true,
    &quot;migrationMetrics&quot;: true,
    &quot;coordinatorMetrics&quot;: true,
    &quot;debugMetrics&quot;: false,
    &quot;goMetrics&quot;: false,
    &quot;processMetrics&quot;: false,
    &quot;promhttpMetrics&quot;: false
  }
</code></pre>
<h2 id="20-gossip"><a class="header" href="#20-gossip">20. Gossip</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">streamReadTimeout</td><td align="left">the read timeout for reads from the gossip stream</td><td align="left">string</td></tr>
<tr><td align="left">streamWriteTimeout</td><td align="left">the write timeout for writes to the gossip stream</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;gossip&quot;: {
    &quot;streamReadTimeout&quot;: &quot;1m&quot;,
    &quot;streamWriteTimeout&quot;: &quot;10s&quot;,
  }
</code></pre>
<h2 id="21-debug"><a class="header" href="#21-debug">21. Debug</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">whiteFlagParentsSolidTimeout</td><td align="left">defines the the maximum duration for the parents to become solid during white flag confirmation API call</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;debug&quot;: {
    &quot;whiteFlagParentsSolidTimeout&quot;: &quot;2s&quot;,
  }
</code></pre>
<h2 id="22-legacy"><a class="header" href="#22-legacy">22. Legacy</a></h2>
<p>This is part the config used in the migration from IOTA 1.0 to IOTA 1.5 (Chrysalis)</p>
<h2 id="221-migrator"><a class="header" href="#221-migrator">22.1 Migrator</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">queryCooldownPeriod</td><td align="left">the cooldown period of the service to ask for new data</td><td align="left">string</td></tr>
<tr><td align="left">receiptMaxEntries</td><td align="left">the max amount of entries to embed within a receipt</td><td align="left">integer</td></tr>
<tr><td align="left">stateFilePath</td><td align="left">path to the state file of the migrator</td><td align="left">string</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;migrator&quot;: {
    &quot;queryCooldownPeriod&quot;: &quot;5s&quot;,
    &quot;receiptMaxEntries&quot;: 110,
    &quot;stateFilePath&quot;: &quot;migrator.state&quot;,
  }
</code></pre>
<h2 id="222-receipts"><a class="header" href="#222-receipts">22.2 Receipts</a></h2>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#backup">backup</a></td><td align="left">config for backup</td><td align="left">object</td></tr>
<tr><td align="left"><a href="post_installation/config.html#validator">validator</a></td><td align="left">config for validator</td><td align="left">object</td></tr>
</tbody></table>
<h3 id="backup"><a class="header" href="#backup">Backup</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">enabled</td><td align="left">whether to backup receipts in the backup folder</td><td align="left">bool</td></tr>
<tr><td align="left">folder</td><td align="left">path to the receipts backup folder</td><td align="left">string</td></tr>
</tbody></table>
<h3 id="validator"><a class="header" href="#validator">Validator</a></h3>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left"><a href="post_installation/config.html#api">api</a></td><td align="left">config for legacy API</td><td align="left">object</td></tr>
<tr><td align="left"><a href="post_installation/config.html#coordinator">coordinator</a></td><td align="left">config for legacy Coordinator</td><td align="left">object</td></tr>
<tr><td align="left">ignoreSoftErrors</td><td align="left">whether to ignore soft errors and not panic if one is encountered</td><td align="left">bool</td></tr>
<tr><td align="left">validate</td><td align="left">whether to validate receipts</td><td align="left">bool</td></tr>
</tbody></table>
<h4 id="api"><a class="header" href="#api">Api</a></h4>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">address</td><td align="left">address of the legacy node API</td><td align="left">string</td></tr>
<tr><td align="left">timeout</td><td align="left">timeout of API calls</td><td align="left">string</td></tr>
</tbody></table>
<h4 id="coordinator"><a class="header" href="#coordinator">Coordinator</a></h4>
<table><thead><tr><th align="left">Name</th><th align="left">Description</th><th align="left">Type</th></tr></thead><tbody>
<tr><td align="left">address</td><td align="left">address of the legacy coordinator</td><td align="left">string</td></tr>
<tr><td align="left">merkleTreeDepth</td><td align="left">depth of the Merkle tree of the coordinator</td><td align="left">integer</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-json">  &quot;receipts&quot;: {
    &quot;backup&quot;: {
      &quot;enabled&quot;: false,
      &quot;folder&quot;: &quot;receipts&quot;,
    },
    &quot;validator&quot;: {
      &quot;api&quot;: {
        &quot;address&quot;: &quot;http://localhost:14266&quot;,
        &quot;timeout&quot;: &quot;5s&quot;,
      },
      &quot;coordinator&quot;: {
        &quot;address&quot;: &quot;JFQ999DVN9CBBQX9DSAIQRAFRALIHJMYOXAQSTCJLGA9DLOKIWHJIFQKMCQ9QHWW9RXQMDBVUIQNIY9GZ&quot;,
        &quot;merkleTreeDepth&quot;: 18,
      },
      &quot;ignoreSoftErrors&quot;: false,
      &quot;validate&quot;: false,
    },
  }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="peering-configuration"><a class="header" href="#peering-configuration">Peering configuration</a></h1>
<p>The IOTA network is a distributed network in which data is broadcasted among IOTA nodes through a gossip protocol. To be
able to participate in a network, each node has to establish a secure connection to other nodes in the network - to its
peer neighbors - and mutually exchange messages.</p>
<h3 id="node-identity"><a class="header" href="#node-identity">Node identity</a></h3>
<p>Each node is uniquely identified by a <code>peer identity</code>. <code>Peer identity</code> (also called <code>PeerId</code>) is represented by a public
and private key pair. The <code>PeerId</code> represents a verifiable link between the given peer and its public key,
since <code>PeerId</code> is a cryptographic hash of peer's public key. It enables individual peers to establish a secure
communication channel as the hash can be used to verify an identity of the peer.</p>
<p>Hornet automatically generates a <code>PeerId</code> when it is started for the first time, and saves the identity's public key in
a file <code>./p2pstore/key.pub</code> and the private key within a BadgerDB within <code>./p2pstore</code>. The generated identity is kept
between subsequent restarts.</p>
<p>Each time Hornet starts, the <code>PeerId</code> is written to stdout:</p>
<pre><code class="language-plaintext">2021-04-19T14:27:55Z  INFO    P2P     never share your ./p2pstore folder as it contains your node's private key!
2021-04-19T14:27:55Z  INFO    P2P     generating a new peer identity...
2021-04-19T14:27:55Z  INFO    P2P     stored public key under p2pstore/key.pub
2021-04-19T14:27:55Z  INFO    P2P     peer configured, ID: 12D3KooWEWunsQWGvSWYN2VR7wNNoHgae4XikBqwSre8K8sVTefu
</code></pre>
<p>Your <code>PeerId</code> is an essential part of your <code>multiaddr</code> used to configure neighbors, such
as <code>/dns/example.com/tcp/15600/p2p/12D3KooWHiPg9gzmy1cbTFAUekyLHQKQKvsKmhzB7NJ5xnhK4WKq</code>,
where <code>12D3KooWHiPg9gzmy1cbTFAUekyLHQKQKvsKmhzB7NJ5xnhK4WKq</code>
corresponds to your <code>PeerId</code>. Your <code>PeerId</code> is also visible on the start page of the dashboard.</p>
<p>It is recommended however to pre-generate the identity, so you can pre-communicate it to your peers before you even
start your node and also to retain the identity in case you delete your <code>./p2pstore</code> by accident.</p>
<p>You can use the <code>p2pidentity</code> CLI tool to generate a <code>PeerId</code> which simply generates a key pair and logs it to stdout:</p>
<pre><code class="language-bash">./hornet tools p2pidentity
</code></pre>
<p>Sample output:</p>
<pre><code class="language-plaintext">Your p2p private key (hex):  64166cc2627c369283cb1dd8412b6259232653611a3ae5cfb52398c23cfaead76af7a3cb775895046b9f28f2cf2b4150a9fd5dfd0ecf5c8d94529818578f40a2
Your p2p public key (hex):  6af7a3cb775895046b9f28f2cf2b4150a9fd5dfd0ecf5c8d94529818578f40a2
Your p2p public key (base58):  8CZELJwB3aBzxJgnLMvvt1FirAwNN6jif9LavYTNHCty
Your p2p PeerID:  12D3KooWH1vQ5SWtEUTVNCCCxxgGeoLZLVz1PnpCcjhcJXcGB9cu
</code></pre>
<p>Now simply copy the value of <code>Your p2p private key</code> to the <code>p2p.identityPrivateKey</code> configuration option.</p>
<p>Your Hornet node will now use the specified private key in <code>p2p.identityPrivateKey</code> to generate the <code>PeerId</code> (which will
ultimately be stored in <code>./p2pstore</code>).</p>
<blockquote>
<p>In case there already is a <code>./p2pstore</code> with another identity, Hornet will panic and tell you that you have a previous identity which does not match with what is defined via <code>p2p.identityPrivateKey</code> (
in that case either delete the <code>./p2pstore</code> or reset the <code>p2p.identityPrivateKey</code>).</p>
</blockquote>
<p>More information regarding the <code>PeerId</code> is available on the <a href="https://docs.libp2p.io/concepts/peer-id/">libp2p docs page</a>
.</p>
<h3 id="addressing-peer-neighbors"><a class="header" href="#addressing-peer-neighbors">Addressing peer neighbors</a></h3>
<p>In order to communicate to your peer neighbors, you also need an address to reach them. Hornet uses the <code>MultiAddresses</code>
format (also known as <code>multiaddr</code>) to achieve that.</p>
<p><code>multiAddr</code> is a convention how to encode multiple layers of addressing information into a single path structure that is
future-proof. In other words, <code>multiaddr</code> is able to combine several different pieces of information in a single
human-readable and machine-optimized string, including network protocol and <a href="post_installation/peering.html#node-identity"><code>PeerId</code></a>.</p>
<p>For example, a node is reachable using IPv4 <code>100.1.1.1</code> using <code>TCP</code> on port <code>15600</code> and its <code>PeerId</code>
is <code>12D3KooWHjcCgWPnUEP8wNdbL2fx63Cmosk16xyZ25iUZagxmHb4</code>.</p>
<p>A <code>multiaddr</code> encoding such information would look like this:</p>
<pre><code class="language-plaintext">/ip4/100.1.1.1/tcp/15600/p2p/12D3KooWHjcCgWPnUEP8wNdbL2fx63Cmosk16xyZ25iUZagxmHb4
</code></pre>
<blockquote>
<p>Note how <code>ip4</code> is used. A common mistake is to use <code>ipv4</code>.</p>
</blockquote>
<p>If a node is reachable using a DNS name (for example <code>node01.iota.org</code>), then the given <code>multiaddr</code> would be:</p>
<pre><code class="language-plaintext">/dns/node01.iota.org/tcp/15600/p2p/12D3KooWHjcCgWPnUEP8wNdbL2fx63Cmosk16xyZ25iUZagxmHb4
</code></pre>
<p>In order to find out your own <code>multiaddr</code> to give to your peers for neighboring, combine the <code>peerId</code> you have gotten
from the stdout when the Hornet node started up (or which was shown via the <code>p2pidentity</code> CLI tool) and your
configured <code>p2p.bindAddress</code>. Obviously replace the <code>/ip4/&lt;ip_address&gt;</code>/<code>/dns/&lt;hostname&gt;</code> segments with the actual
information.</p>
<p>More information about <code>multiaddr</code> is available at the <a href="https://docs.libp2p.io/concepts/addressing/">libp2p docs page</a>.</p>
<h3 id="adding-node-peers"><a class="header" href="#adding-node-peers">Adding node peers</a></h3>
<p>Once you know your node's own <code>multiaddr</code>, it can be exchanged with other node owners to establish a mutual peer
connection. A recommended number of peer neighbors is 4-6 to get some degree of redundancy.</p>
<h4 id="finding-neighbors"><a class="header" href="#finding-neighbors">Finding neighbors</a></h4>
<p>Join the official IOTA Discord server and join the <code>#nodesharing</code> channel and describe your node location (Europe /
Germany / Asia, etc.) with your allocated HW resources and ask for neighbors. Do not publicly disclose your
node <code>multiaddr</code>
to all readers but wait for an individual direct chat.</p>
<p>Peers can be added using the Hornet <a href="post_installation/peering.html#dashboard">dashboard</a> (simply go to <code>Peers</code> and click on <code>Add Peer</code>)
or the <a href="post_installation/./peering.html">peering.json</a> file.</p>
<p>You can change the path or name of the <code>peering.json</code> file by using the <code>-n</code> or <code>--peeringConfig</code> argument while
executing the <code>hornet</code> executable.</p>
<p>Example <code>peering.json</code>:</p>
<pre><code class="language-json">{
  &quot;peers&quot;: [
    {
      &quot;alias&quot;: &quot;Node1&quot;,
      &quot;multiAddress&quot;: &quot;/ip4/192.0.2.0/tcp/15600/p2p/12D3KooWCKWcTWevORKa2KEBputEGASvEBuDfRDSbe8t1DWugUmL&quot;
    },
    {
      &quot;alias&quot;: &quot;Node2&quot;,
      &quot;multiAddress&quot;: &quot;/ip6/2001:db8:3333:4444:5555:6666:7777:8888/tcp/16600/p2p/12D3KooWJDqHjhd8us8XdbKy1Adp5nV6XoI7XhjZbPWAfbAbkLbH&quot;
    },
    {
      &quot;alias&quot;: &quot;Node3&quot;,
      &quot;multiAddress&quot;: &quot;/dns/example.com/tcp/15600/p2p/12D3KooWN7F4eRAYbavnasME8WGXwkrpzWWoZSXfNSEpudmWi9YP&quot;
    }
  ]
}
</code></pre>
<h3 id="autopeering"><a class="header" href="#autopeering">Autopeering</a></h3>
<p>Hornet also supports automatically finding peers through the autopeering module. We recommend to only use autopeering
if you have at least 4 static peers to minimize service distribution in case your autopeered peers are flaky.</p>
<p>Autopeering is enabled per default and your node will use the specified entry nodes under
<code>p2p.autopeering.entryNodes</code> to find new peers. <code>entryNodes</code> are also encoded as <code>multiaddr</code>, example:</p>
<pre><code>/ip4/45.12.34.43/udp/14626/autopeering/8CZELJwB3aBzxJgnLMvvt1FirAwNN6jif9LavYTNHCty
</code></pre>
<p>where the <code>/autopeering</code> portion defines the base58 encoded Ed25519 public key.</p>
<p>Per default, Hornet will peer up to 4 autopeered peers and initiate a gossip protocol with them.
Autopeered peers are not subject to connection trimming, the same way as mutually tethered peers aren't either.</p>
<h4 id="entry-node"><a class="header" href="#entry-node">Entry Node</a></h4>
<p>If you want to run your own node as an autopeering entry node, configure <code>p2p.autopeering.runAsEntryNode</code> respectively.
The base58 encoded public key is in the output of the <code>p2pidentity</code> Hornet tool; alternatively, if you
already have an identity in a <code>./p2pstore</code>, use the <code>p2pidentityextract</code> to extract it.</p>
<h3 id="lowhigh-watermark"><a class="header" href="#lowhigh-watermark">Low/High Watermark</a></h3>
<p>The <code>p2p.connectionManager.highWatermark</code> and <code>p2p.connectionManager.lowWatermark</code> config options define
&quot;watermark&quot; points which can be thought of as a filling basin where if the <code>highWatermark</code> is reached, water is drained
until it reaches the <code>lowWatermark</code> again. Similarly, the connection manager within Hornet will start trimming away
connections to peers if <code>highWatermark</code> peers are connected until it reaches <code>lowWatermark</code> count of peers. These
watermarks exist for a certain buffer number of peers to be connected, to which not necessarily a gossip protocol is
being done.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="how-to-run-hornet-as-a-verifier-node"><a class="header" href="#how-to-run-hornet-as-a-verifier-node">How to run Hornet as a verifier node</a></h2>
<blockquote>
<p>A verifier node is a node which validates receipts. Receipts are an integral component of the
migration mechanism used to migrate funds from the legacy into the new Chrysalis Phase 2 network.
See <a href="https://chrysalis.docs.iota.org/guides/migration-in-depth.html">here</a> for a more detailed explanation on how the migration mechanism works.</p>
</blockquote>
<p>This guide explains how to configure a Hornet node as a verifier node:</p>
<ol>
<li>Make sure the <code>Receipts</code> plugin is enabled under <code>node.enablePlugins</code>.</li>
<li>Set:
<ul>
<li><code>receipts.validator.validate</code> to <code>true</code> (this is what enables the verification logic in your node).</li>
<li><code>receipts.validator.ignoreSoftErrors</code> to <code>true</code> or <code>false</code>. If <code>true</code>, the verifier node will not panic if it can
not query a legacy node for data. Set it to <code>false</code> if you want to make sure that your verifier node panics if it
can not query for data from a legacy node. An invalid receipt will always result in a panic; <code>ignoreSoftErrors</code>
only controls API call failures to the legacy node.</li>
<li><code>receipts.validator.api.timeout</code> to something sensible like <code>10s</code> (meaning 10 seconds).</li>
<li><code>receipts.validator.api.address</code> to the URI of your legacy node. Note that this legacy node <strong>must support/have
the <code>getWhiteFlagConfirmation</code> and <code>getNodeInfo</code> API commands whitelisted</strong>.</li>
<li><code>receipts.validator.coordinator.address</code> to the Coordinator address in the legacy network.</li>
<li><code>receipts.validator.coordinator.merkleTreeDepth</code> to the correct used Merkle tree depth in the legacy network.</li>
</ul>
</li>
<li>Run your Hornet verifier node and let it validate receipts.</li>
</ol>
<blockquote>
<p>Note, it is suggested that you use a loadbalanced endpoint to multiple legacy nodes for <code>receipts.validator.api.address</code>
in order to obtain high availability.</p>
</blockquote>
<p>If now your verifier node panics because of an invalid receipt, it is clear that a receipt was produced which is not
valid, in which case as a verifier node operator, you are invited to inform the community and the IOTA Foundation of
your findings. This is by the way the same result as when a milestone is issued by the Coordinator, which diverges from
a consistent ledger state.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h1>
<p>This document specifies the REST API for IOTA node software:</p>
<ul>
<li><a href="https://editor.swagger.io/?url=https://raw.githubusercontent.com/rufsam/protocol-rfcs/master/text/0026-rest-api/rest-api.yaml">IOTA REST API</a></li>
</ul>
<p>The node event API is in charge of publishing information about events within the node software:</p>
<ul>
<li><a href="https://playground.asyncapi.io/?load=https://raw.githubusercontent.com/luca-moser/protocol-rfcs/rfc/node-event-api/text/0033-node-event-api/0033-node-event-api.yml">Node event API</a> </li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>Check our <a href="./FAQ.html">Frequently asked questions</a>.</p>
<p>If your question is not covered in the FAQ, feel free to ask in the <code>#hornet</code> channel (<a href="https://discord.iota.org/">official iota discord server</a>).</p>
<h2 id="something-went-wrong"><a class="header" href="#something-went-wrong">Something went wrong?</a></h2>
<ul>
<li><strong>Please open a <a href="https://github.com/gohornet/hornet/issues/new">new issue</a> if you detect an error or crash (or submit a PR if you have already fixed it).</strong></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="faq"><a class="header" href="#faq">FAQ</a></h1>
<h3 id="what-is-hornet"><a class="header" href="#what-is-hornet">What is HORNET?</a></h3>
<p>HORNET is a community driven IOTA fullnode. It is written in Go which makes it lightweight and fast.</p>
<hr />
<h3 id="does-hornet-run-on-the-mainnet"><a class="header" href="#does-hornet-run-on-the-mainnet">Does HORNET run on the Mainnet?</a></h3>
<p>Yes, HORNET <a href="https://blog.iota.org/hornet-0-4-0-release-summary-2163ca444196/">was released in mid 2020</a> and replaced the Java implementation called IRI.</p>
<hr />
<h3 id="can-i-run-hornet-on-a-raspberry-pi"><a class="header" href="#can-i-run-hornet-on-a-raspberry-pi">Can I run HORNET on a Raspberry Pi?</a></h3>
<p>Yes, you can run HORNET on a Raspberry Pi 4B with an external SSD. But we recommend to run HORNET on a more powerful device.</p>
<hr />
<h3 id="i-have-difficulties-setting-up-hornet-where-can-i-get-help"><a class="header" href="#i-have-difficulties-setting-up-hornet-where-can-i-get-help">I have difficulties setting up HORNET. Where can I get help?</a></h3>
<p>Our community loves helping you. Just ask your questions in the <code>#hornet</code> channel on the <a href="https://discord.iota.org/">official IOTA Discord Server</a></p>
<hr />
<h3 id="can-i-contribute"><a class="header" href="#can-i-contribute">Can I contribute?</a></h3>
<p>Of course, you are very welcome! Just send a PR or offer your help in the <code>#hornet</code> channel on the <a href="https://discord.iota.org/">official IOTA Discord Server</a></p>
<hr />
<h3 id="i-found-a-bug-what-should-i-do"><a class="header" href="#i-found-a-bug-what-should-i-do">I found a bug, what should I do?</a></h3>
<p>Please open a <a href="https://github.com/gohornet/hornet/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md&amp;title=">new issue</a>. We'll have a look at your bug report as soon as possible.</p>
<hr />
<h3 id="im-missing-feature-xyz-can-you-add-it"><a class="header" href="#im-missing-feature-xyz-can-you-add-it">I'm missing feature xyz. Can you add it?</a></h3>
<p>Please open a <a href="https://github.com/gohornet/hornet/issues/new?assignees=&amp;labels=feature&amp;template=feature_request.md&amp;title=">new feature request</a>. We cannot assure that the feature will actually be implemented.
Pull requests are very welcome!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing"><a class="header" href="#contributing">Contributing</a></h1>
<p><strong>By participating to this project, you agree to abide our <a href="/CODE_OF_CONDUCT.html">code of conduct</a>.</strong></p>
<hr />
<h2 id="how-to-contribute"><a class="header" href="#how-to-contribute">How to contribute</a></h2>
<h3 id="basic-setup"><a class="header" href="#basic-setup">Basic setup</a></h3>
<p><code>HORNET</code> is written in <a href="https://golang.org/">Go</a>.</p>
<p>Prerequisites:</p>
<ol>
<li>Setup <a href="https://golang.org/doc/install">Go 1.14+</a></li>
<li>Fork <code>HORNET</code></li>
<li>Test your setup by building <code>HORNET</code>:
<code>go build</code></li>
</ol>
<h2 id="make-your-changes"><a class="header" href="#make-your-changes">Make your changes</a></h2>
<p>Make your changes and test them sufficiently.</p>
<h2 id="create-a-commit"><a class="header" href="#create-a-commit">Create a commit</a></h2>
<p>Commit messages should be well formatted.</p>
<p>You can use this as a guide:
<a href="https://www.conventionalcommits.org">Conventional Commits</a></p>
<h2 id="submit-a-pull-request"><a class="header" href="#submit-a-pull-request">Submit a pull request</a></h2>
<p>Push your branch to your <code>HORNET</code> fork and open a pull request to the
<strong>develop</strong> branch.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
